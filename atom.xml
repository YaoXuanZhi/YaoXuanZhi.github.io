<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>YXZ&#39;s Blog</title>
  
  
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://yaoxuanzhi.github.io/"/>
  <updated>2021-04-05T17:02:20.896Z</updated>
  <id>https://yaoxuanzhi.github.io/</id>
  
  <author>
    <name>Hexo</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>逆向某款app笔记（仅学习用途）</title>
    <link href="https://yaoxuanzhi.github.io/news/2021/04/06/try-to-reverse-an-app/"/>
    <id>https://yaoxuanzhi.github.io/news/2021/04/06/try-to-reverse-an-app/</id>
    <published>2021-04-06T00:00:00.000Z</published>
    <updated>2021-04-05T17:02:20.896Z</updated>
    
    <content type="html"><![CDATA[<div id="inner-encryted-page">    <head>        <script src="https://cdn.jsdelivr.net/npm/js-base64@3.6.0/base64.min.js"></script>    </head>    <style scoped>         form {            max-width: 330px;            margin-top: 17%;            --breakpoint-xs: 0;            --breakpoint-sm: 576px;            --breakpoint-md: 768px;            --breakpoint-lg: 992px;            --breakpoint-xl: 1200px;            --font-family-sans-serif: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";            --font-family-monospace: SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;            text-rendering: optimizeLegibility;            line-height: 1.6em;            color: #444;            box-sizing: border-box;            margin: 0;            outline: 0;            font-weight: inherit;            font-style: inherit;            font-family: inherit;            font-size: 100%;            vertical-align: baseline;            max-width: 330px;            margin-top: 17%;            position: relative;            display: flex;            flex-direction: column;            min-width: 0;            word-wrap: break-word;            background-color: #fff;            background-clip: border-box;            border: 1px solid rgba(0, 0, 0, .125);            border-radius: .25rem;            width: 100% !important;            padding: 1.5rem !important;            margin-right: auto !important;            margin-left: auto !important;            text-align: left !important;        }        h1 {            --breakpoint-xs: 0;            --breakpoint-sm: 576px;            --breakpoint-md: 768px;            --breakpoint-lg: 992px;            --breakpoint-xl: 1200px;            --font-family-sans-serif: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";            --font-family-monospace: SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;            text-rendering: optimizeLegibility;            color: #444;            word-wrap: break-word;            box-sizing: border-box;            padding: 0;            border: 0;            outline: 0;            font-style: inherit;            font-family: inherit;            vertical-align: baseline;            margin-bottom: 1rem !important;            text-align: center !important;            font-size: 2em;            line-height: 1em;            font-weight: bold;            margin: 1em 0;        }        input {            --breakpoint-xs: 0;            --breakpoint-sm: 576px;            --breakpoint-md: 768px;            --breakpoint-lg: 992px;            --breakpoint-xl: 1200px;            --font-family-sans-serif: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";            --font-family-monospace: SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;            word-wrap: break-word;            box-sizing: border-box;            margin: 0;            font-family: inherit;            overflow: visible;            display: block;            width: 100%;            height: calc(1.5em + .75rem + 2px);            padding: .375rem .75rem;            font-size: 1rem;            font-weight: 400;            line-height: 1.5;            color: #495057;            background-color: #fff;            background-clip: padding-box;            border: 1px solid #ced4da;            border-radius: .25rem;            transition: border-color .15s ease-in-out, box-shadow .15s ease-in-out;            border-top-right-radius: .25rem !important;            border-bottom-right-radius: .25rem !important;        }        button {            --breakpoint-xs: 0;            --breakpoint-sm: 576px;            --breakpoint-md: 768px;            --breakpoint-lg: 992px;            --breakpoint-xl: 1200px;            --font-family-sans-serif: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";            --font-family-monospace: SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;            word-wrap: break-word;            box-sizing: border-box;            margin: 0;            font-family: inherit;            overflow: visible;            text-transform: none;            font-weight: 400;            text-align: center;            user-select: none;            border: 1px solid transparent;            transition: color .15s ease-in-out, background-color .15s ease-in-out, border-color .15s ease-in-out, box-shadow .15s ease-in-out;            color: #fff;            background-color: #007bff;            border-color: #007bff;            padding: .5rem 1rem;            font-size: 1.25rem;            line-height: 1.5;            border-radius: .3rem;            display: block;            width: 100%;            margin-top: 1rem !important;            cursor: pointer;        }     </style>    <div class="text-center h-100">        <form class="text-left mx-auto card p-4 w-100 p-2" autocomplete="off" target="hide_iframe">            <h1 class="h3 mb-3 text-center">请输入访问密码</h1>  <input type="password"                id="password" name="current-password" autocomplete="current-password"                class="form-control rounded-right input-password" spellcheck="false" autocorrect="off"                autocapitalize="off" required=""> <button class="btn btn-lg btn-primary btn-block mt-3"                onclick="checkPassword()"> 验证 </button>            <div id="encoded_text" style="display:none;">                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            </div>            <iframe id="id_iframe" name="hide_iframe" style="display:none;"></iframe>    </div>    <script type="text/javascript">        var Base64WithXOR = {            encode: function (input) {                return Base64.encode(input);            },            decode: function (input) {                return Base64.decode(input);            },            encode_with_xor: function (input, key) {                var pwd = this.encode(key);                var xor_string = this._xor_handle(input, pwd);                return this.encode(xor_string);            },            decode_with_xor: function (input, key) {                var pwd = this.encode(key);                var decode_string = this.decode(input);                return this._xor_handle(decode_string, pwd);            },            _xor_handle: function (source, key) {                var result = "";                for (var i = 0; i < source.length; i++) {                    var source_char = source.charCodeAt(i);                    var key_idx = i % key.length;                    var xor_char_code = key.charCodeAt(key_idx) ^ source_char;                    result += String.fromCharCode(xor_char_code);                }                return result;            },        }        var CachePassword = {            cache: window.localStorage,            page_key: 'hexo-encrypted-package-html:#' + window.location.pathname,            get: function() {               var old_password = this.cache.getItem(this.page_key);                if(old_password) {                   return old_password;               }               return "";            },            set: function(new_password) {                this.cache.setItem(this.page_key, new_password);            },        }        // 自动密码验证        function autoCheckPassword() {            var old_pwd = CachePassword.get();            var handle_fun = function(page_html, decoded_ele) {                page_html.outerHTML = decoded_ele;            };            checkPasswordWrapper(old_pwd, handle_fun, null);        }        // 手动密码验证        function checkPassword() {            var pwd = document.getElementById("password").value;            var handle_fun = function(page_html, decoded_ele) {                page_html.outerHTML = decoded_ele;                CachePassword.set(pwd);            };            var error_fun = function() {                alert("密码错误，请重新输入");            };            checkPasswordWrapper(pwd, handle_fun, error_fun);        }        function checkPasswordWrapper(pwd, handle_fun, error_fun) {            var encoded_content = document.getElementById("encoded_text").innerHTML;            var decoded_ele = Base64WithXOR.decode_with_xor(encoded_content, pwd);            var full_decoded_text = decoded_ele.trim();            var prefix = "hexo-encrypted-package-html";            var decoded_text = full_decoded_text.substr(prefix.length);            if (decoded_text.length == 0 || full_decoded_text.startsWith(prefix)) {                if (typeof handle_fun === "function") {                    handle_fun(document.getElementById("inner-encryted-page"), decoded_text);                }                return true;            } else {                if (typeof error_fun === "function") {                    error_fun();                }                return false;            }        }        autoCheckPassword();    </script></div>]]></content>
    
    <summary type="html">
    
      
      
        &lt;div id=&quot;inner-encryted-page&quot;&gt;
    &lt;head&gt;
        &lt;script src=&quot;https://cdn.jsdelivr.net/npm/js-base64@3.6.0/base64.min.js&quot;&gt;&lt;/script&gt;
    
      
    
    </summary>
    
    
      <category term="reverse" scheme="https://yaoxuanzhi.github.io/tags/reverse/"/>
    
      <category term="Android app" scheme="https://yaoxuanzhi.github.io/tags/Android-app/"/>
    
  </entry>
  
  <entry>
    <title>聊下常见的字符编码</title>
    <link href="https://yaoxuanzhi.github.io/news/2021/04/05/string-encode-convert-note/"/>
    <id>https://yaoxuanzhi.github.io/news/2021/04/05/string-encode-convert-note/</id>
    <published>2021-04-05T00:00:00.000Z</published>
    <updated>2021-04-05T17:02:27.928Z</updated>
    
    <content type="html"><![CDATA[<h3 id="utf8与hex互转"><a href="#utf8与hex互转" class="headerlink" title="utf8与hex互转"></a>utf8与hex互转</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 原始转换方式</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">utf8_to_hex</span><span class="hljs-params">(utf8_str)</span>:</span><br>    bs = bytes(utf8_str, encoding=<span class="hljs-string">"utf8"</span>)<br>    <span class="hljs-keyword">return</span> bs.hex()<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">hex_to_utf8</span><span class="hljs-params">(hex_str)</span>:</span><br>    bs = bytes.fromhex(hex_str)<br>    <span class="hljs-keyword">return</span> bs.decode(<span class="hljs-string">"utf8"</span>)<br><br><span class="hljs-comment"># src_str = "测试"</span><br><span class="hljs-comment"># hex_str = utf8_to_hex(src_str)</span><br><span class="hljs-comment"># utf8_str = hex_to_utf8(hex_str)</span><br><span class="hljs-comment"># print("src:%s hex:%s utf8:%s" % (src_str, hex_str, utf8_str))</span><br><span class="hljs-comment"># output-&gt; src:测试 hex:e6b58be8af95 utf8:测试</span><br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 定制了分割字符，网页另存时采用的就是该编码</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">utf8_to_hex_plus</span><span class="hljs-params">(utf8_str, flag = <span class="hljs-string">'=%02X'</span>)</span>:</span><br>    bs = bytes(utf8_str, encoding=<span class="hljs-string">"utf8"</span>)<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">""</span>.join([flag % b <span class="hljs-keyword">for</span> b <span class="hljs-keyword">in</span> bs])<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">hex_to_utf8_plus</span><span class="hljs-params">(hex_str)</span>:</span><br>    hex_str = <span class="hljs-string">""</span>.join(hex_str.split(<span class="hljs-string">"="</span>))<br>    bs = bytes.fromhex(hex_str)<br>    <span class="hljs-keyword">return</span> bs.decode(<span class="hljs-string">"utf8"</span>)<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">hex_to_utf8_wrapper</span><span class="hljs-params">(src_str)</span>:</span><br>    src_str = src_str.replace(<span class="hljs-string">"=\n"</span>, <span class="hljs-string">""</span>)<br><br>    <span class="hljs-comment"># 将匹配到的hex字符串替换成解密后的正文</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">replace_hex_to_utf8</span><span class="hljs-params">(matched)</span>:</span><br>        hex_str = matched.group(<span class="hljs-number">0</span>)<br>        src_str = hex_to_utf8_plus(hex_str)<br>        <span class="hljs-keyword">return</span> src_str<br><br>    <span class="hljs-keyword">return</span> re.sub(<span class="hljs-string">r"((=[A-Z0-9]&#123;2,&#125;)+)"</span>, replace_hex_to_utf8, src_str)<br><br>hex_to_utf8_wrapper(src_str)<br><br><span class="hljs-comment"># src_str = "测试"</span><br><span class="hljs-comment"># hex_str = utf8_to_hex_plus(src_str)</span><br><span class="hljs-comment"># utf8_str = hex_to_utf8_plus(hex_str)</span><br><span class="hljs-comment"># print("src:%s hex:%s utf8:%s" % (src_str, hex_str, utf8_str))</span><br><span class="hljs-comment"># output-&gt; src:测试 hex:=E6=B5=8B=E8=AF=95 utf8:测试</span><br></code></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs python"><span class="hljs-comment"># 将非ascii字符的字符串转换成Hex</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">utf8_to_hex_wrapper</span><span class="hljs-params">(str)</span>:</span><br>    <span class="hljs-comment"># 将匹配到的hex字符串替换成解密后的正文</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">replace_utf8_to_hex</span><span class="hljs-params">(matched)</span>:</span><br>        src_str = matched.group(<span class="hljs-number">0</span>)<br>        hex_str = utf8_to_hex_plus(src_str)<br>        <span class="hljs-keyword">return</span> hex_str<br><br>    <span class="hljs-keyword">return</span> re.sub(<span class="hljs-string">r"([^\x00-\xff]+)"</span>, replace_utf8_to_hex, str)<br><br><span class="hljs-comment"># 将多行hex合并成一行再转换成utf8</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">hex_to_utf8_wrapper</span><span class="hljs-params">(str)</span>:</span><br>    str = str.replace(<span class="hljs-string">"=\n"</span>, <span class="hljs-string">""</span>)<br><br>    <span class="hljs-comment"># 将匹配到的hex字符串替换成解密后的正文</span><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">replace_hex_to_utf8</span><span class="hljs-params">(matched)</span>:</span><br>        hex_str = matched.group(<span class="hljs-number">0</span>)<br>        src_str = hex_to_utf8_plus(hex_str)<br>        <span class="hljs-keyword">return</span> src_str<br><br>    <span class="hljs-keyword">return</span> re.sub(<span class="hljs-string">r"((=[A-Z0-9]&#123;2,&#125;)+)"</span>, replace_hex_to_utf8, str)<br><br>src_str = <span class="hljs-string">"生活就像海洋，只有意志坚强的人，才能到达彼岸。——马克思"</span><br>src_str2 = <span class="hljs-string">'''<br>=E7=94=9F=E6=B4=BB=E5=B0=B1=E5=83=8F=E6=B5=B7=<br>=E6=B4=8B=EF=BC=8C=E5=8F=AA=E6=9C=89=E6=84=8F=E5=BF=97=E5=9D=9A=E5=BC=<br>=BA=E7=9A=84=E4=BA=BA=EF=BC=8C=E6=89=8D=E8=83=BD=E5=88=<br>=B0=E8=BE=BE=E5=BD=BC=E5=B2=B8=E3=80=82=E2=80=94=E2=80=94=E9=A9=<br>=AC=E5=85=8B=E6=80=9D<br>'''</span><br>hex_str = utf8_to_hex_wrapper(src_str)<br>utf8_str = hex_to_utf8_wrapper(hex_str)<br>utf8_str2 = hex_to_utf8_wrapper(src_str2)<br>print(hex_str)<br>print(utf8_str)<br>print(utf8_str2)<br></code></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;utf8与hex互转&quot;&gt;&lt;a href=&quot;#utf8与hex互转&quot; class=&quot;headerlink&quot; title=&quot;utf8与hex互转&quot;&gt;&lt;/a&gt;utf8与hex互转&lt;/h3&gt;&lt;figure class=&quot;highlight python&quot;&gt;&lt;table&gt;&lt;
      
    
    </summary>
    
    
      <category term="utf8_to_hex" scheme="https://yaoxuanzhi.github.io/tags/utf8-to-hex/"/>
    
      <category term="hex_to_utf8" scheme="https://yaoxuanzhi.github.io/tags/hex-to-utf8/"/>
    
  </entry>
  
  <entry>
    <title>开发一款用于正文加密的Hexo插件</title>
    <link href="https://yaoxuanzhi.github.io/news/2021/03/25/how-to-write-a-hexo-plugin/"/>
    <id>https://yaoxuanzhi.github.io/news/2021/03/25/how-to-write-a-hexo-plugin/</id>
    <published>2021-03-25T00:00:00.000Z</published>
    <updated>2021-04-01T19:21:31.269Z</updated>
    
    <content type="html"><![CDATA[<h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>上一篇<a href="https://yaoxuanzhi.github.io/news/2021/03/15/a-way-of-html-encryption/">文章</a>谈到了自己捣弄了一个页面加密方案的实现，并且也开发了一个cli工具用来对html或tag进行打包加密，由于本人的文章都是采用hexo来发布的，因此就需要将这个打包工具整合成hexo plugin了，在这里也再提一下，现今hexo插件里已经有一款同类加密插件，而且做得也更加完善，具体看这里：<a href="https://github.com/D0n9X1n/hexo-blog-encrypt" target="_blank" rel="noopener">hexo-blog-encrypt</a></p><h3 id="需求"><a href="#需求" class="headerlink" title="需求"></a>需求</h3><p>本人希望借助这款插件，只需要让哪些想要加密的md的文件头上添加<code>password: your_pwd</code>，即可在执行<code>hexo g</code>的时候，自动对生成的html的文章正文进行加密</p><h3 id="插件开发记录"><a href="#插件开发记录" class="headerlink" title="插件开发记录"></a>插件开发记录</h3><p>由于具体的Hexo插件开发博客已经汗牛充栋了，这里就没必要赘述了，仅仅罗列一下本人开发插件过程中用到的资料和相关链接吧</p><ul><li><ol><li>了解hexo的插件工作机制</li></ol><ul><li><a href="https://hexo.io/zh-cn/docs/plugins.html" target="_blank" rel="noopener">插件|Hexo</a></li></ul></li><li><ol start="2"><li>找出处理文章正文的插件接口或示例</li></ol><ul><li>在 <strong><a href="https://github.com/D0n9X1n/hexo-blog-encrypt" target="_blank" rel="noopener">hexo-blog-encrypt</a></strong>里找到了关键接口</li></ul></li><li><ol start="3"><li>新建一个插件项目</li></ol><ul><li><a href="http://www.sumoon.com/hexo/hexo-simple-plugin/" target="_blank" rel="noopener">《hexo教程之为hexo编写一个插件》</a></li></ul></li><li><ol start="4"><li>整合加密打包功能到这个插件项目上</li></ol><ul><li>已上传到 <strong><a href="https://hub.fastgit.org/yaoxuanzhi/hexo-encrypted-package-html" target="_blank" rel="noopener">hexo-encrypted-package-html</a></strong>仓库上了</li></ul></li><li><ol start="5"><li>将这款插件发布到<a href="https://www.npmjs.com" target="_blank" rel="noopener">npmjs.com</a>上</li></ol><ul><li><a href="https://zhuanlan.zhihu.com/p/44156668" target="_blank" rel="noopener">《如何发布自己的NPM包（模块）？》</a></li></ul></li><li><ol start="6"><li>将这款插件发布到hexo插件市场上</li></ol><ul><li><a href="https://hexo.io/zh-cn/docs/plugins.html" target="_blank" rel="noopener">插件|Hexo</a></li></ul></li></ul><h4 id="插件调试"><a href="#插件调试" class="headerlink" title="插件调试"></a>插件调试</h4><p>目前没有找到vscode直接断点调试hexo插件的方式以及相关的文章教程，这里采用的是根据<code>hexo.log()</code>或<code>console.log()</code>的日志输出来跟踪问题的</p><h4 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h4><p>由于GithubPage是部署在墙外的，部分国内的cdn国外无法正常访问，所以需将<code>bootstrap.min.css</code>的<a href="http://cdn.bootstrapmb.com/bootstrap/4.4.0/css/bootstrap.min.css" target="_blank" rel="noopener">国内url</a>要改成<a href="https://getbootstrap.com/docs/4.6/dist/css/bootstrap.min.css" target="_blank" rel="noopener">国外url</a></p><h2 id="后记"><a href="#后记" class="headerlink" title="后记"></a>后记</h2><p>其实hexo 插件市场上也有好几款文章正文加密插件，本人开发的这款加密插件可当作另一种实现思路</p><p><img src="/assets/2021-03-25/1616647855692.png" alt></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h3&gt;&lt;p&gt;上一篇&lt;a href=&quot;https://yaoxuanzhi.github.io/news/2021/03/15/a-way-of-html
      
    
    </summary>
    
    
      <category term="encrypted html" scheme="https://yaoxuanzhi.github.io/tags/encrypted-html/"/>
    
      <category term="hexo plugin" scheme="https://yaoxuanzhi.github.io/tags/hexo-plugin/"/>
    
      <category term="base64_with_xor" scheme="https://yaoxuanzhi.github.io/tags/base64-with-xor/"/>
    
  </entry>
  
  <entry>
    <title>谈一种页面加密技术</title>
    <link href="https://yaoxuanzhi.github.io/news/2021/03/15/a-way-of-html-encryption/"/>
    <id>https://yaoxuanzhi.github.io/news/2021/03/15/a-way-of-html-encryption/</id>
    <published>2021-03-15T00:00:00.000Z</published>
    <updated>2021-04-01T19:24:52.415Z</updated>
    
    <content type="html"><![CDATA[<h3 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h3><p>这段时间边练车边整理工作笔记，然后突然发现，有一些内容不适合直接公开分享，但是也希望发布出去，被那些想看的亲朋好友可以正常浏览，因此有了html的加密访问需求，另外，考虑到这些加密分享的内容并不适合被搜索引擎检索到它的正文，所以正文内容也是有加密需求的。于是就在网上检索有没有相关的技术实现的文章。然后找到了这些技术博客或在线工具：</p><ul><li><a href="https://blog.csdn.net/weixin_44548876/article/details/86725023" target="_blank" rel="noopener">HTML的简单页面加密代码</a><blockquote><p>基本流程上是没啥问题，但是这个示例里面，密码完整验证的方式已经被明文存储在页面上了，纵使密码存放在其它地方，采用Ajax方式获取之后再对比也毫无意义，开发者很容易在浏览器上通过F12修改这个密码验证逻辑从而正常浏览到，并且，由于这里面的内容也是明文存放着的，也会被搜索引擎检索到</p></blockquote></li><li><del><a href="http://cha.buyiju.com/tool/cryptogram.htm" target="_blank" rel="noopener">HTML网页加密解密</a></del><blockquote><p>无法正常体验，并且访问体验也不是我想要的</p></blockquote></li></ul><p>总而言之，虽然找到了各种貌似可用的实现，但是都没有get到我的需求痛点，决定自己开搞一个</p><h3 id="基本思路"><a href="#基本思路" class="headerlink" title="基本思路"></a>基本思路</h3><p>实际上，本人对访问的加密强度没啥追求，只需要以下特性即可：</p><ul><li><em>正文不能被搜索引擎爬虫到</em></li><li><em>需要输入密码访问</em></li></ul><p>针对这两个需求点，采用以下两种加密方式混合使用即可达到：</p><ul><li><strong>base64</strong> (一种可逆加密方式，将明文或字节流转换成base64字符串，在此解决首次xor加密生成的字节流存储在页面的问题)</li><li><strong>xor</strong> (一种可逆加密方式，提供密钥验证支持，在正确的密钥下，进行两次该加密即可获得原文)</li></ul><h4 id="页面加密打包思路"><a href="#页面加密打包思路" class="headerlink" title="页面加密打包思路"></a>页面加密打包思路</h4><p>读取需要加密的html文件的特定标签内容，将其进行base64+xor加密之后，塞到一个可以进行密码验证访问的模板标签上，删掉这个已加密的正文标签后，将模板标签再重新拼接成新的html。具体流程流程看代码啦，也是比较直观的</p><h4 id="页面验证访问思路"><a href="#页面验证访问思路" class="headerlink" title="页面验证访问思路"></a>页面验证访问思路</h4><p>游客打开这个加密后的html之后，已加密的标签上会显示一个密码验证的界面，如果密码输入错误，浏览器会弹框提醒，如果输入密码正确，则解密后的正文标签outHtml会直接替换掉这个密码验证标签的outHtml，此时浏览器会自动将正文内容加载出来</p><h4 id="加密-解密思路"><a href="#加密-解密思路" class="headerlink" title="加密/解密思路"></a>加密/解密思路</h4><p>从html上提取到需要加密的正文tag之后，其加密、解密的流程设计如下所示：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs text">  html encrytion                        html decrytion<br><br> +--------------+                      +--------------+<br> |              |                      |              |<br> |input html tag|                      |input html tag|<br> |              |                      |              |<br> +--------------+                      +--------------+<br>         |                                     |<br>         |                                     |<br>         |                                     |<br> +-------v--------+                  +---------v---------+<br> |                |                  |                   |<br> | xor encryption |                  | base64 encryption |<br> |                |                  |                   |<br> +----------------+                  +-------------------+<br>         |                                     |<br>         |                                     |<br>         |                                     |<br>+--------v----------+                  +-------v--------+<br>|                   |                  |                |<br>| base64 encryption |                  | xor encryption |<br>|                   |                  |                |<br>+-------------------+                  +----------------+<br>         |                                     |<br>         |                                     |<br>         |                                     |<br>  +------v--------+                     +------v--------+<br>  |               |                     |               |<br>  |output html tag|                     |output html tag|<br>  |               |                     |               |<br>  +---------------+                     +---------------+<br></code></pre></td></tr></table></figure><h4 id="技术选型"><a href="#技术选型" class="headerlink" title="技术选型"></a>技术选型</h4><p>此工具基于nodejs技术栈实现，经过对比，选择了下面这几个第三方库：</p><ul><li><a href="https://www.npmjs.com/package/js-base64" target="_blank" rel="noopener">js-base64</a><blockquote><p>utf8支持良好的base64库</p></blockquote></li><li><a href="https://www.npmjs.com/package/cheerio" target="_blank" rel="noopener">cheerio</a><blockquote><p>能够解析修改html的html库，多用于爬虫项目</p></blockquote></li><li><a href="https://www.npmjs.com/package/yargs" target="_blank" rel="noopener">yargs</a><blockquote><p>能轻松配置命令，解析多个参数，并设置快捷方式等，还能自动生成帮助菜单的命令行辅助库</p></blockquote></li></ul><h4 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h4><ul><li><a href="https://github.com/YaoXuanZhi/base64_with_xor/blob/master/js/base64_with_xor.js" target="_blank" rel="noopener">base64+xor加密解密库</a></li><li><a href="https://github.com/YaoXuanZhi/base64_with_xor/blob/master/tools/package_encrypted_html.js" target="_blank" rel="noopener">html加密打包工具</a></li></ul><h4 id="后续迭代"><a href="#后续迭代" class="headerlink" title="后续迭代"></a>后续迭代</h4><p>由于目前本人的博客都是采用hexo发布的，因此需要将这个加密逻辑整合成hexo插件，期间找到了一款同类型的插件<a href="https://github.com/D0n9X1n/hexo-blog-encrypt" target="_blank" rel="noopener">hexo-blog-encrypt</a>，这款hexo插件基本满足我最开始的要求了，但由于它是在我完成了<a href="https://github.com/YaoXuanZhi/base64_with_xor/blob/master/js/base64_with_xor.js" target="_blank" rel="noopener">base64+xor加密解密库</a>和<a href="https://github.com/YaoXuanZhi/base64_with_xor/blob/master/tools/package_encrypted_html.js" target="_blank" rel="noopener">html加密打包工具</a>后，打算整合到hexo的时候才找到的，本着不断学习的态度，借鉴这个插件的思路，自己也重写了一个 OMG，感兴趣的可前往<a href="https://github.com/YaoXuanZhi/hexo-encrypted-package-html" target="_blank" rel="noopener">hexo-encrypted-package-html</a></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot; class=&quot;headerlink&quot; title=&quot;前言&quot;&gt;&lt;/a&gt;前言&lt;/h3&gt;&lt;p&gt;这段时间边练车边整理工作笔记，然后突然发现，有一些内容不适合直接公开分享，但是也希望发布出去，被那些想看的亲朋好友可以正常浏览，因此有了ht
      
    
    </summary>
    
    
      <category term="html" scheme="https://yaoxuanzhi.github.io/tags/html/"/>
    
      <category term="encrypted" scheme="https://yaoxuanzhi.github.io/tags/encrypted/"/>
    
      <category term="hexo" scheme="https://yaoxuanzhi.github.io/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>我的断舍离实践</title>
    <link href="https://yaoxuanzhi.github.io/news/2019/09/10/simplifying-life/"/>
    <id>https://yaoxuanzhi.github.io/news/2019/09/10/simplifying-life/</id>
    <published>2019-09-10T00:00:00.000Z</published>
    <updated>2021-04-02T04:38:39.161Z</updated>
    
    <content type="html"><![CDATA[<div id="inner-encryted-page">    <head>        <script src="https://cdn.jsdelivr.net/npm/js-base64@3.6.0/base64.min.js"></script>    </head>    <style scoped>         form {            max-width: 330px;            margin-top: 17%;            --breakpoint-xs: 0;            --breakpoint-sm: 576px;            --breakpoint-md: 768px;            --breakpoint-lg: 992px;            --breakpoint-xl: 1200px;            --font-family-sans-serif: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";            --font-family-monospace: SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;            text-rendering: optimizeLegibility;            line-height: 1.6em;            color: #444;            box-sizing: border-box;            margin: 0;            outline: 0;            font-weight: inherit;            font-style: inherit;            font-family: inherit;            font-size: 100%;            vertical-align: baseline;            max-width: 330px;            margin-top: 17%;            position: relative;            display: flex;            flex-direction: column;            min-width: 0;            word-wrap: break-word;            background-color: #fff;            background-clip: border-box;            border: 1px solid rgba(0, 0, 0, .125);            border-radius: .25rem;            width: 100% !important;            padding: 1.5rem !important;            margin-right: auto !important;            margin-left: auto !important;            text-align: left !important;        }        h1 {            --breakpoint-xs: 0;            --breakpoint-sm: 576px;            --breakpoint-md: 768px;            --breakpoint-lg: 992px;            --breakpoint-xl: 1200px;            --font-family-sans-serif: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";            --font-family-monospace: SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;            text-rendering: optimizeLegibility;            color: #444;            word-wrap: break-word;            box-sizing: border-box;            padding: 0;            border: 0;            outline: 0;            font-style: inherit;            font-family: inherit;            vertical-align: baseline;            margin-bottom: 1rem !important;            text-align: center !important;            font-size: 2em;            line-height: 1em;            font-weight: bold;            margin: 1em 0;        }        input {            --breakpoint-xs: 0;            --breakpoint-sm: 576px;            --breakpoint-md: 768px;            --breakpoint-lg: 992px;            --breakpoint-xl: 1200px;            --font-family-sans-serif: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";            --font-family-monospace: SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;            word-wrap: break-word;            box-sizing: border-box;            margin: 0;            font-family: inherit;            overflow: visible;            display: block;            width: 100%;            height: calc(1.5em + .75rem + 2px);            padding: .375rem .75rem;            font-size: 1rem;            font-weight: 400;            line-height: 1.5;            color: #495057;            background-color: #fff;            background-clip: padding-box;            border: 1px solid #ced4da;            border-radius: .25rem;            transition: border-color .15s ease-in-out, box-shadow .15s ease-in-out;            border-top-right-radius: .25rem !important;            border-bottom-right-radius: .25rem !important;        }        button {            --breakpoint-xs: 0;            --breakpoint-sm: 576px;            --breakpoint-md: 768px;            --breakpoint-lg: 992px;            --breakpoint-xl: 1200px;            --font-family-sans-serif: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";            --font-family-monospace: SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;            word-wrap: break-word;            box-sizing: border-box;            margin: 0;            font-family: inherit;            overflow: visible;            text-transform: none;            font-weight: 400;            text-align: center;            user-select: none;            border: 1px solid transparent;            transition: color .15s ease-in-out, background-color .15s ease-in-out, border-color .15s ease-in-out, box-shadow .15s ease-in-out;            color: #fff;            background-color: #007bff;            border-color: #007bff;            padding: .5rem 1rem;            font-size: 1.25rem;            line-height: 1.5;            border-radius: .3rem;            display: block;            width: 100%;            margin-top: 1rem !important;            cursor: pointer;        }     </style>    <div class="text-center h-100">        <form class="text-left mx-auto card p-4 w-100 p-2" autocomplete="off" target="hide_iframe">            <h1 class="h3 mb-3 text-center">请输入访问密码</h1>  <input type="password"                id="password" name="current-password" autocomplete="current-password"                class="form-control rounded-right input-password" spellcheck="false" autocorrect="off"                autocapitalize="off" required=""> <button class="btn btn-lg btn-primary btn-block mt-3"                onclick="checkPassword()"> 验证 </button>            <div id="encoded_text" style="display:none;">                DTI+GUgtOAsQFwAbBDUQTQQ0LRcCLXsAFgMcUwljHVQBamTliLvoqaVqaFQDThgdBDcAH0bliJroqYZURSs6CREdTU0JNFxZACUqHwsjdEgWBwQDBGwf5Ymw6KmldXhKSilo5Yil6KmiUl8HU28BTVvovo7nroHml7HnqoXmmafmnbrku5LlnYrpmavorovjgaXml4zoiZznpobmlIbnlIDjgZzkuYbkuJDkuK7lkYbvvZrmtpnmnavmhbHoppbogaPlh7jkuZrnmrkBSid4fFk4aOaXheiJr+enleaZn+S5r+emrOeVjua0huaAvOW7g++9m+aWpuivjOW2gOS8lOi+juaZh+eVvea1lemCjeevr+WMtOS7iuabieWlgO+9qeWAjeS5rOevtuWMsOebjOS7rOWRj15BAFFrbVUPRT4iS0flr77lsJPnrq9AUEwOQTlPWANqZFXlr5PlsI3nrpFKQg0cDhIiAB8NMicSADo6AQwFUk8VOElRAGpk5a+A5bCg566PdFZeQRFR5a+X5bCU56+6AUo/dEhZOGjlpY/pgorliajmloblgbbvva3mlafnuo7mmJLkuaXnpprlpLvkuJbmgorvvYTkvJDlr6vlka7moZnkvaror4bku5vohrvnhIvogLHnhZPnlI7kuY3mmoLlpb/nkY7lu4LkuYrlvaHnm6rniJnlkq7vva3lpbbpg5XliLvmlpPlgY7vvYrmiafnm6HnoKbmmbnoo4PlhJTlr63nj5/kvrLoi6Pnmr/jgLznm4XlhJbotJPor6nliojotJLku44SITvnm6rngp3mgqrvva3kvJfmmJLlvrXlvo7vvZvngqvmgrPpgaXljLzkuJ3lkabvva7mnYLorpXkuY3lvaLnm5Xmnb/niZTlsZTnlI7ku4Dkub3mnIDvvYTlp5TmrIzljq/lpaPvvbzmiZDplpXnm5Xmnb/niZTot6/loZHot4zlpazvvannmrzliabkuaPmrYPmkYLlr4bmiKLmuaTnkZfmjrTvvLHoganovo7kuYbmrJPvvanmnaTorrPlv6DmlovkuKXliL3lsZ7lu7XorrTmloDoobHnm6FraQZbQmoYXOS5jOW9s+W4meS5rOaZvuS4veensOWcquWSlui1ru+9uuaVm+S5g+iGvOW2meW4lOS5o+mdsOinruebpeeIuOS7i++8seWxo+WvlOS6queUr+e6vOaavOmdluinqeebpuS7lOS4r+adheWxvOS5nOWlgOOAv+aJs+ivr+adj+eqk+mfruS9kueXh+aCue+9ruaJv+S6nOinruaBr+ahpuaJsOiDgOWJgeaXuui+n+S7reS5h+W9i+S4neeIgeaZjeWRiOiCjemBruWJkeaIkemcveS5tuS7n+aInOS5jOWQlO+9qeWuseS7mOi+seS5ouWcue+9vOaVgOaLheWvjOOAvOW+k+S+hOi+jumGiumCi+adrOWRjOemm+igi+eIi+WasOaVhuebq+WEhOWOsu+8seS6mee6vOS5hOS5nOebsuadn+afjOWPreWJrumEr+aZgeaNiuS5oumVuOeble+8seWmv+afueimnuW/kemjsue7g+m7s+eCsOebrOiuv++9ouS4r+WOgOS6hOWxl+i/pOS6puacp+eIvuaNj+eEkeaLveaMl+epneW7juWJpOW9ruiiteWkku+9reaVr+WIjeWevuWdm+agoeS5q++9uuW+puWskOWXkuaFp++9ruaBleadueS7leeVieS5m+OAvwFKJ3h8WTho6L6x5pmN55Wx5rWL54iG5ZKg5Lm855q55paQ6Imo56es772K5Lq46LuO6L+x6Zi85L2c5baE5Y6d55u05bGg54iI5Lqn5ZKx6ZeP57yL6K+v5LiD55uyVivku7Hlkqnvva7ku6LmiLvlhpXmiKptEk1bXXoGW+Wmg+S7mOeIgeWSo+ezkOevsO+9o+WxvOS7n+S4n+iug++9qeaGleS7iOi1m+eIjOeztuevlu+9pOeznOS7oOezjuekseezn+evkQESFWlMSg17dgEGU1Llr5nlsKTnj77lor7nmrnniIzlkpbpgY/ln71HdmoJQgYCCgdsHx7lr5PlsJLnj6nlo7Xnm6HniKHlkpfpgaHln6lMUAwNME5OWHUuEwQsMxoOBx4EQ3FJVBE7I0tH5a++5bCT54+H5aOh55uq54iZ5ZKu6YGo5Z+aHwNZeCdI5a+T5bCN54+55aOr55um54iH5ZKx6YGm5Z+qbRJVVml6Awl2XFQOB07nj4Dkvrzpoo7nlJXnupo1AQXpgbnmmavmoITln73vvaTphq3lpJPmoLzlrL/lsZvlrqnorpTluqrlr5Plubnlvp/oorfliI/lpLXvvZrljofkuofmnafmlLjlsanpor7niLjmuJ7mu67lkanmoJvlrJbpm6Lnp57lvYjmnLPvvaTluJTkubrvvbzml5bkv57muZTmtKoBSjsvSG90OgFc5Lid6IKG5p+6772t55uV56GT5py05pSt572E6Kal5Luw55yE6KaB5Lm76aOg6YKK44Gv6IW65p6e5Y+q5YuKARIJPnh8WSQ/VuiRn+WdnuaVn+afmeibq+W5ge+8seebheauseiTjuWOouWNs+ibr+W5mO+9mui+seemr+ibpOW5oOe6tuS7m+ebleeph+mXieaFuuaao+i3te+9uuW4k+S5nOaaouWLiOiJsOmBrO+9vOmBoOaxteaBtuS5ouS4sOmVvO+9m+adhuWki+W5g+S5gumZpOWxsOmglOi1iOeapuW5rO+9rembheemhuWipOeAleaPnuiRu0pKJD9WaFIcBl/lpZ7lrZ7lho3kubjlhp7luavvvbrnmp3mrpzmmLjpgbLnm6bnqpfluZ3vvaPmioTmnZjov6XkuLDplbznm5PoiZTpgbTlu4PvvYTluKDkubzkuaLoiYLmjqDkv7TnlYnku5/ljZzkvbLlu6/ln7zlu5Pnm7LnupblrJjvvZrnmpDmrrbnqpfluZ3vvaPlr6Lms7DmnLTnq4TliZ/nrJ7mrp3nlrNZZzoBXGRMAwhv5oy/6ZKU5b2f5YuM57Oe6IKA772p6L6R56ab5o2q6ZOL5Lmu6Imc5Y645Yu65p2Y6Zmt77yx5Lyj5pm45Y6p5LqT5ouv5a+L5Lq66LWc5Z2K5ZGq56a955KY56G35aOI5aO85Li3772p5qCb5ayW5L+R6L+c772E5Y655LqN5o2g6ZqG5L2u44Gu5LiH5Y2U5ZWY55q5772p5Lma6L6B5Lm26ImJ5pyt6K6i772k5Lmv5bqU6K+e5bGp5Lq35Lq95pSD5ZyV5a+c5pmE5Y6R5ryY55uh5Z245pev772k5ZqC5LmU5a+J5pm85a6d6Ial6IOL5rCJ5aWU5pSfelkJIWhiXgIZUea5pOaXoeWJv+aIq+iBoOmnjuiXtu+9uuadrOaUgOaVr+WXrOWvhuWHq+axpOWQnO+9reauheWmv+WxsuiVmOS7keiGq+ijquWsteOBieWOh+mdoeesq+WQnemAo1NOPVQDb2sqH1vmlb7nu6XlhpvlrLJB5YOY54iG5YaS772d5Y+S5LuY5pWT57uk5LmG5Lut5Yaf6Zag55W+55us5bGt54iH5LqG772j55WQ5Luf5a6+5LuR5Lmf5LuR5pWw57uF5pWb5b2L5LuQ5oiX6Yav772i5oiw5LqK5p2N6Lu65piS5Liw6YGn5ZGf5LiD5Zym55uh772E5Lmb6L6v5YC45LmE5oyS6Z+k5YaS6L6J5piS5rKc6ZaL6aOP55uCSkokP1ZoUhwGX+Wvi+aXi+W7i+mUmue7qO+9iui+r+emqOe7t+WOueS6jeevg+eRqOS5sOS7tOWvl+eVpOeaueS9gueVjeaWoemWsu+9uui+veaZp+aNrOWvtueViuebqu+9vOauu+Wno+iupe+8seWBp+S5j+W7neS5jOWxueWRr+aIj+ebkuWvsuaWlOW9ruWEg++9o+ixouWkrOaXi+mXieWvv+aWoeWEteaPv+miq+aIj++9mumAl+WEr+aYtOS5uuecr+WGqG0SUQxpTEoJIWjlkaLlnILlvLvpnoPnrbvvva3kuZzkvbvlj5LkuoDlgI3kuazmjbTppJXvvYTovo7ogpXlpb3or57lvKXmlorluZnnlY7mtIbkuJDnm6Hohr3oqYbohpzorojvvYTmiYDoga3lkp7llZ/llJXnm6vvva3lvILnhIvvvLHlkYnkub3or7Tlu5Hog4rlr5LkuInms4nplozpo7bllJZTTj1UA29rKh9b5bGH57Cl55Wd6KakReW7peW7iO+9reaXqOS+guebieaPgOS8qOeVruaaguWlv+S7g+S6oOWTpOigruS5lEwaDW83AQk+eOWxueewlueVveimkOWlvuaPh+meneWSveinruS4keS5u25tIR4A6Lya5o+A5Zig772a5Lmo6ImO5Lix5L2q6Zir5bmH5LmR5a+E5ZCx6LyR57uo55uCSkokP1ZoUl8aDW83AUo7L0hvdDoBXOe/oOW2leWJr+WTreWGseS9qOeUhuacmu+9m+WOqeS6k+WAv+S5iOS7jeaWjeW5muWxoeeImeS6meebpRV0ZO+9qeaJgeiBg+WArOS7vue7sOewreaIo+W2h+iIlOWSsVNOPVQDb2sqH1sDACXliaXmjIzlmJjvvaPlrpjku5/liqPlhZHmoKnogZvoqYbvvbrljorkuq3nlb7nsJPkvZ7nm6rovJzmj4rnu57mnLTop57lho7lhJTnlb/plajnmq7jgaTlhLnnlb7lsKfluLfnm6rplp7po7fvva3mnZjmlbXlh7LlsbTluZTnu7lKSiQ/VmhSHAZf6JGs5ZyN5pSS5p+T5bud5LmM5b+Y6aKr5ZGC5oiR772k5aeg5p+y5LiW5qCj6Zil6L6A5rKc5py05ZSA5Y645Lqj5o205ZGv5oiP55uS772k6L6756aj6JGN5Z2f5pWO5p+n5ped55as5pmK6ZyJ5bm+5p2/5pSt55uM6Ka15Yeb5peb5qCmTEANOAM3WTsvSOiGj+ezkOWjj+e7kO+9ruWOgeS6leaPhueat+S5keS6puahseWstee9remYseW4gOS5see6l+S5luaJl+mWlumioOahjOebq+Wvv+aCseaWhOahte+9qeS5mui+geW6jOivi+S4uOS7jeWvkeaZsemYiuaPueebq+W9m+WJp+aWhOahte+9qemAqOWEi+WvteS6ieaJmOS5rOeIs+ebjOiWvUxADTgDN1k7L0jnqq7lvYfmjoTlu4/vva7mlYHmjbHlpbXnpqzljp3mj6/lj57jgaTkuZ7mjpTljpXvvanovpDljrnkuo3mlY3mja8lPCPkuJrnsYbnmrnvvanlhpjlsZflubXnu5rvvYTkuZvovq/ovrvnpqPmjqLlu4jvva3luqvorpPph7rnlY3lhLvniJ3niLrlrLXnm4zvvZrluJ7kubbmiJHljqfnm6vnlZTlj5rkuL3oiJHkuajpgZXlkY7lpZHli7rnj4/nlaPlmIDvva7kvKjmmZ/lr4vlh6TljqHngZLjgLznlZDohYbjgYfnlYPopqPnm4zli4nnj6/lgbDmmYHms5HploHpo7nnm5UBEgk+eHxZJD9W5b+M5Z+l5LmL5p2V772t5LmR6IiR5buH6K+L5pGJ5Lms5Lu65oiu55uMGwkBTj0GDzjvvLHmiKvogaDnmq/lrr/kv4nlr7nng7Hnm5Llv4bln6nkuZXmnYrvvaPnmpnmroXlj43lvLLmnZ/vvZvlr4XovI3ltoLvvYTlvIXnhZ7muZrmiaHovqnlnLjlsZDlibrmg47mjLrmnb7ku5HvvYrkvLDmmYrmlq3lua7mtKfopqrnvL/poIXjga7nnaroppfpoqzkubbnsJ7nm5Pog6nlr6zmmYrljJvljIXmnaHkvLvnm6pMQA04AzdZOy9I55WQ6IWZ5pmo56WS5ZiK5bCh5aOu6aq35bu05bu277yx5Y+S5LqA5pWh57u16ZWY55q96b2o5qGR5ZOk5Z+J6aq25pmO56WV5ZiJ772d5a+E5qGx6ZyH5rmS5rWH6Zyo5bmd5p2B55W+772k5biU5Lm65Y6f5LqK5p2o5pSZ57yu6Kee6aOt5qWZ55aD55uy5Yaf54+4akcOB05lXT1UA+eQu+WivOWHneWJtu+9qeWOp+S6s+imi+WHkeWliemCmOWJqeWYieacgeeauemXk+mjve+9m+WEsOWvqOS5peiJpOaRiOS5gueVl+W2i+evgeaam+WknO+9neS4sOi/uueVlOS7meS6semTh+i/pui1ve+9muWaiOashuS5o+iBs+iYvu+9rei+iOS4l+ectumjoeevgOaZqeWRkOi3luWll+WRsVRNAhlRa21RVFvkuZfku53lr4DlsKDluYvlsJbvvaTlupjor4Dkur7lr7Plr5fnrJjlnI3mloTphqLpmpHmhYnoprflkYJ0eQQLUHpTDTgD5Y6V5oma5LmE55Wu55uy5oi254Cj5p2s772k5bqY6K+A5b205LmF6ZSe5Zml55q55omu54CO5p2t772K55We5pyA54Ox54C955WA55umUl8DCG83AUoiKkhvdD5aQgcUUkPli4/lhZHnr7pHaXoXRSAkDQRTUkzli7/lhL3nr7ofRTQqFxY7a0oKCxELBCNRVAs8ZFYRISIEB1NS5Yux5YSN566WHwNZeCdI5Yu75YSk566RVE0GQlFdIQPnlIjohbTnrJ7lkYLnprvnlZDlrJjor6jlpa/pgp/mmYHmiaHnm6vli7/lhL3lt5jlhYrvvanogZvovp/lnKHkuLrmmafogqvlgLLlhq3msrvnm7Tjga3kuYvku6vmnL3kuIfmj43ltZDnm4LlgKzmsrDmmaflib/nlYDlkabnpqPlhL3lr6booqTltrTlhYrmnZjkuZ/li4nlhKrnlYPohbTlhofotYnvvaTlp6Dmn7LmnqDku7TlpYbln5rnmrnlvL3ljrTovLjkurDvvbrmrrHlp4ofDAcP44GxORISUlkA5Lic57C955uy772p5a+Q5pev5o645L+5FBkf54ip5p2955q577yx6YOG5Lif5bG35bGL5Y6K6IK15Lmd6LyV5a+h772i6IG85Lmi5pmO5Y+q5Li26L2A5a+s6KKS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            </div>            <iframe id="id_iframe" name="hide_iframe" style="display:none;"></iframe>    </div>    <script type="text/javascript">        var Base64WithXOR = {            encode: function (input) {                return Base64.encode(input);            },            decode: function (input) {                return Base64.decode(input);            },            encode_with_xor: function (input, key) {                var pwd = this.encode(key);                var xor_string = this._xor_handle(input, pwd);                return this.encode(xor_string);            },            decode_with_xor: function (input, key) {                var pwd = this.encode(key);                var decode_string = this.decode(input);                return this._xor_handle(decode_string, pwd);            },            _xor_handle: function (source, key) {                var result = "";                for (var i = 0; i < source.length; i++) {                    var source_char = source.charCodeAt(i);                    var key_idx = i % key.length;                    var xor_char_code = key.charCodeAt(key_idx) ^ source_char;                    result += String.fromCharCode(xor_char_code);                }                return result;            },        }        var CachePassword = {            cache: window.localStorage,            page_key: 'hexo-encrypted-package-html:#' + window.location.pathname,            get: function() {               var old_password = this.cache.getItem(this.page_key);                if(old_password) {                   return old_password;               }               return "";            },            set: function(new_password) {                this.cache.setItem(this.page_key, new_password);            },        }        // 自动密码验证        function autoCheckPassword() {            var old_pwd = CachePassword.get();            var handle_fun = function(page_html, decoded_ele) {                page_html.outerHTML = decoded_ele;            };            checkPasswordWrapper(old_pwd, handle_fun, null);        }        // 手动密码验证        function checkPassword() {            var pwd = document.getElementById("password").value;            var handle_fun = function(page_html, decoded_ele) {                page_html.outerHTML = decoded_ele;                CachePassword.set(pwd);            };            var error_fun = function() {                alert("密码错误，请重新输入");            };            checkPasswordWrapper(pwd, handle_fun, error_fun);        }        function checkPasswordWrapper(pwd, handle_fun, error_fun) {            var encoded_content = document.getElementById("encoded_text").innerHTML;            var decoded_ele = Base64WithXOR.decode_with_xor(encoded_content, pwd);            var full_decoded_text = decoded_ele.trim();            var prefix = "hexo-encrypted-package-html";            var decoded_text = full_decoded_text.substr(prefix.length);            if (decoded_text.length == 0 || full_decoded_text.startsWith(prefix)) {                if (typeof handle_fun === "function") {                    handle_fun(document.getElementById("inner-encryted-page"), decoded_text);                }                return true;            } else {                if (typeof error_fun === "function") {                    error_fun();                }                return false;            }        }        autoCheckPassword();    </script></div>]]></content>
    
    <summary type="html">
    
      
      
        &lt;div id=&quot;inner-encryted-page&quot;&gt;
    &lt;head&gt;
        &lt;script src=&quot;https://cdn.jsdelivr.net/npm/js-base64@3.6.0/base64.min.js&quot;&gt;&lt;/script&gt;
    
      
    
    </summary>
    
    
      <category term="life" scheme="https://yaoxuanzhi.github.io/tags/life/"/>
    
      <category term="simplify life" scheme="https://yaoxuanzhi.github.io/tags/simplify-life/"/>
    
  </entry>
  
  <entry>
    <title>一键安装php-xdebug</title>
    <link href="https://yaoxuanzhi.github.io/news/2019/09/01/auto-download-xdebug-for-php/"/>
    <id>https://yaoxuanzhi.github.io/news/2019/09/01/auto-download-xdebug-for-php/</id>
    <published>2019-09-01T00:00:00.000Z</published>
    <updated>2021-04-01T19:07:37.113Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>目前想要调试php，需要安装xdebug，在idea里的php settings上有其安装指导，如下图所示：<br><img src="/assets/2019-09-01/1567309969314.png" alt></p></blockquote><ul><li>归纳起来就三步<ul><li><ol><li>查询phpinfo</li></ol></li><li><ol start="2"><li>拿phpinfo去<a href="https://xdebug.org/wizard.php" target="_blank" rel="noopener">xdebug wizard</a>查询其匹配的xdebug版本及其下载链接</li></ol></li><li><ol start="3"><li>然后下载dll并在<code>php.ini</code>里修改xdebug的配置项</li></ol></li></ul></li></ul><hr><h4 id="动机"><a href="#动机" class="headerlink" title="动机"></a>动机</h4><p>本人需要在多台机子上快速部署php的开发调试环境</p><h4 id="基本思路"><a href="#基本思路" class="headerlink" title="基本思路"></a>基本思路</h4><ul><li><ol><li><del>在shell上用<code>which php</code>查找到php的所在路径，并<code>cd $(dirname $(which php))</code></del>（将这个py脚本放置在php.exe的同级目录就行）</li></ol></li><li><ol start="2"><li><del>判断这个目录下是否有<code>php.ini</code>文件，如果没有的话，就<code>cp php.development php.ini</code></del>（这部分采用python来实现）</li></ol></li><li><ol start="3"><li><del>在shell上执行<code>php -i phpinfo(); &gt; phpinfo.txt</code>，将结果输出到文本上</del>（在python中调用此shell指令，并将输出存放在变量中）</li></ol></li><li><ol start="4"><li>用输出的phpinfo信息粘贴在<a href="https://xdebug.org/wizard.php" target="_blank" rel="noopener">xdebug.org-custom installation instructions</a>上的文本框上查询，这里面会检测到xdebug版本</li></ol><ul><li><img src="/assets/2019-09-01/1567312543380.png" alt="在wizard上查询xdebug版本"><ul><li>具体的phpinfo的检测条件在<a href="https://github.com/derickr/xdebug.org/blob/master/html/include/phpinfo-scanner.php" target="_blank" rel="noopener">phpinfo-scanner.php</a><blockquote><p>这一步是关键，分析这个查询请求的<code>Responses Headers</code>和<code>Form Data</code></p></blockquote></li><li><img src="/assets/2019-09-01/1567314064999.png" alt></li></ul></li></ul></li><li><ol start="5"><li>采用bs4从html上提取php_xdebug_xxx.dll的下载链接</li></ol></li><li><ol start="6"><li>下载php_xdebug_xxx.dll到ext目录下</li></ol></li><li><ol start="7"><li>采用configparser来修改php.ini上的xdebug配置</li></ol></li></ul><h4 id="代码"><a href="#代码" class="headerlink" title="代码"></a>代码</h4><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br></pre></td><td class="code"><pre><code class="hljs py"><span class="hljs-comment"># !/user/bin/env python</span><br><span class="hljs-comment"># -*- coding:utf-8 -*- </span><br><br><span class="hljs-keyword">import</span> os, sys, subprocess, locale, shutil<br><span class="hljs-keyword">import</span> requests, codecs, urllib, configparser<br><span class="hljs-keyword">from</span> bs4 <span class="hljs-keyword">import</span> BeautifulSoup<br><span class="hljs-keyword">from</span> sys <span class="hljs-keyword">import</span> stdout<br><br><span class="hljs-comment"># 拿phpinfo在xdebug.org上查询并提取xdebug.dll的下载链接</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_xdebug_download_page</span><span class="hljs-params">(phpinfo)</span>:</span><br>    url = <span class="hljs-string">'https://xdebug.org/wizard'</span><br>    data = &#123;<br>        <span class="hljs-string">"data"</span>: phpinfo,<br>        <span class="hljs-string">"submit"</span>: <span class="hljs-string">"Analyse my phpinfo() output"</span><br>    &#125;<br>    headers = &#123;<br>        <span class="hljs-string">"User-Agent"</span>: <span class="hljs-string">"Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/74.0.3729.169 Safari/537.36"</span>,<br>        <span class="hljs-string">"Origin"</span>: <span class="hljs-string">"https://xdebug.org"</span>,<br>        <span class="hljs-string">"Content-Type"</span>: <span class="hljs-string">"application/x-www-form-urlencoded"</span>,<br>        <span class="hljs-string">"Accept"</span>: <span class="hljs-string">"text/html,application/xhtml+xml,application/xml;q=0.9,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3"</span>,<br>        <span class="hljs-string">"Referer"</span>: <span class="hljs-string">"https://xdebug.org/wizard"</span>,<br>        <span class="hljs-string">"Accept-Encoding"</span>: <span class="hljs-string">"gzip, deflate, br"</span>,<br>        <span class="hljs-string">"Accept-Language"</span>: <span class="hljs-string">"zh-CN,zh;q=0.9"</span>,<br>    &#125;<br>    <span class="hljs-keyword">return</span> requests.post(url=url, headers=headers, data=data).text<br><br><span class="hljs-comment"># 从html上提取xdebug的下载链接</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">find_xdebug_download_link</span><span class="hljs-params">(html)</span>:</span><br>    soup = BeautifulSoup(html, features=<span class="hljs-string">"html.parser"</span>)<br>    <span class="hljs-keyword">return</span> soup.find(<span class="hljs-string">"ol"</span>).find(<span class="hljs-string">"a"</span>)[<span class="hljs-string">"href"</span>]<br><br><span class="hljs-comment"># 获取phpinfo</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_php_info</span><span class="hljs-params">()</span>:</span><br>    phpinfo = read_commandline(<span class="hljs-string">"php -i phpinfo();"</span>)<br>    substr_flag = phpinfo.find(<span class="hljs-string">"___________________"</span>)<br>    <span class="hljs-keyword">return</span> phpinfo[<span class="hljs-number">0</span>:substr_flag]<br><br><span class="hljs-comment"># 获取shell的输出结果</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">read_commandline</span><span class="hljs-params">(command_str)</span>:</span><br>    output_str = <span class="hljs-string">""</span><br>    ps = subprocess.Popen(command_str, stdin=subprocess.PIPE, stdout=subprocess.PIPE, shell=<span class="hljs-literal">True</span>)<br>    <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<br>        data = ps.stdout.readline()<br>        <span class="hljs-keyword">if</span> data == <span class="hljs-string">b''</span>:<br>            <span class="hljs-keyword">if</span> ps.poll() <span class="hljs-keyword">is</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">None</span>:<br>                <span class="hljs-keyword">break</span><br>        <span class="hljs-keyword">else</span>:<br>            output_str = output_str + data.decode(codecs.lookup(locale.getpreferredencoding()).name)<br>    <span class="hljs-keyword">return</span> output_str<br><br><span class="hljs-comment"># 下载文件</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">download_file</span><span class="hljs-params">(url, file_path)</span>:</span><br>    r = requests.get(url)<br>    <span class="hljs-keyword">with</span> codecs.open(file_path,<span class="hljs-string">'wb'</span>) <span class="hljs-keyword">as</span> f:<br>        f.write(r.content)<br><br><span class="hljs-comment"># Refer to : https://www.jb51.net/article/167786.htm</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">download_file_with_process</span><span class="hljs-params">(url, file_path)</span>:</span><br>    <span class="hljs-keyword">with</span> codecs.open(file_path, <span class="hljs-string">"wb"</span>) <span class="hljs-keyword">as</span> fw:<br>        <span class="hljs-keyword">with</span> requests.get(url, stream=<span class="hljs-literal">True</span>) <span class="hljs-keyword">as</span> r:<br>            filesize = r.headers[<span class="hljs-string">"Content-Length"</span>]<br>            chunk_size = <span class="hljs-number">128</span><br>            times = int(filesize) // chunk_size<br>            show = <span class="hljs-number">1</span> / times<br>            show2 = <span class="hljs-number">1</span> / times<br>            start = <span class="hljs-number">1</span><br>            <span class="hljs-keyword">for</span> chunk <span class="hljs-keyword">in</span> r.iter_content(chunk_size):<br>              fw.write(chunk)<br>              <span class="hljs-keyword">if</span> start &lt;= times:<br>                stdout.write(<span class="hljs-string">f"download process : <span class="hljs-subst">&#123;show:<span class="hljs-number">.2</span>%&#125;</span>\r"</span>)<br>                start += <span class="hljs-number">1</span><br>                show += show2<br><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">check_php_cfg</span><span class="hljs-params">(php_cfg)</span>:</span><br>    default_php_cfg = php_cfg+<span class="hljs-string">"-development"</span><br>    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> os.path.exists(php_cfg):<br>        shutil.copy(default_php_cfg, php_cfg)<br><br><span class="hljs-comment"># 更新php.ini上的xdebug配置</span><br><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">update_php_cfg</span><span class="hljs-params">(php_cfg, xdebug_path)</span>:</span><br>    conf = configparser.ConfigParser()<br>    conf.read(php_cfg)<br><br>    xdebug_section_name = <span class="hljs-string">"xdebug"</span><br>    <span class="hljs-keyword">if</span> conf.has_section(xdebug_section_name):<br>        <span class="hljs-keyword">pass</span><br>    <span class="hljs-keyword">else</span>:<br>        conf.add_section(xdebug_section_name)<br>    conf.set(xdebug_section_name, <span class="hljs-string">"zend_extension"</span>, xdebug_path)<br>    conf.set(xdebug_section_name, <span class="hljs-string">"xdebug.remote_enable"</span>, <span class="hljs-string">"1"</span>)<br>    conf.set(xdebug_section_name, <span class="hljs-string">"xdebug.remote_autostart"</span>, <span class="hljs-string">"1"</span>)<br>    <span class="hljs-comment"># conf.set(xdebug_section_name, "xdebug.remote_host", "10.0.2.2")</span><br>    <span class="hljs-comment"># conf.set(xdebug_section_name, "xdebug.remote_port", "9000")</span><br><br>    outfile = codecs.open(php_cfg, <span class="hljs-string">"w"</span>)<br>    conf.write(outfile)<br>    outfile.close()<br><br><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">'__main__'</span>:<br>    php_cfg = <span class="hljs-string">"php.ini"</span><br><br>    print(<span class="hljs-string">"-------------check php.ini---------------"</span>)<br>    check_php_cfg(php_cfg)<br><br>    print(<span class="hljs-string">"-------------fetch phpinfo---------------"</span>)<br>    phpinfo = get_php_info()<br><br>    print(<span class="hljs-string">"-----fetch xdebug.dll download link------"</span>)<br>    html = get_xdebug_download_page(phpinfo)<br>    download_link = find_xdebug_download_link(html)<br><br>    print(<span class="hljs-string">"----------download xdebug.dll------------"</span>)<br>    dir_path = <span class="hljs-string">"./ext"</span><br>    file_name = os.path.basename(download_link) <br>    file_path = os.path.join(dir_path, file_name)<br>    full_file_path = os.path.abspath(file_path)<br>    <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> os.path.exists(file_path):<br>        <span class="hljs-comment"># download_file(download_link, full_file_path)</span><br>        download_file_with_process(download_link, full_file_path)<br>    <span class="hljs-keyword">else</span>:<br>        print(<span class="hljs-string">"%(full_file_path)s already exists, skip download ……"</span> % &#123;<span class="hljs-string">'full_file_path'</span> : full_file_path&#125;)<br><br>    update_php_cfg(php_cfg, full_file_path)<br></code></pre></td></tr></table></figure><ul><li><a href="/assets/2019-09-01/php_xdebug_deploy.zip">php_xdebug_deploy.zip</a></li></ul><h3 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h3><ul><li><a href="https://www.jb51.net/article/167786.htm" target="_blank" rel="noopener">Python3 requests文件下载 期间显示文件信息和下载进度代码实例</a></li><li><a href="https://blog.csdn.net/bqw18744018044/article/details/81351137" target="_blank" rel="noopener">Python爬虫之selenium库(三)：Chrome无头模式与操作浏览器</a></li><li><a href="https://blog.csdn.net/qq_26803795/article/details/82467037" target="_blank" rel="noopener">selenium+Headless Chrome实现不弹出浏览器自动化登录–问题总结</a></li><li><a href="https://blog.csdn.net/jjjndk1314/article/details/80540204" target="_blank" rel="noopener">selenium设置谷歌无头浏览器</a></li><li><a href="https://stackoverflow.com/questions/45631715/downloading-with-chrome-headless-and-selenium" target="_blank" rel="noopener">downloading-with-chrome-headless-and-selenium</a></li></ul><h4 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h4><p>由于此方法是完全依赖xdebug.org上的 <strong><a href="https://xdebug.org/wizard.php" target="_blank" rel="noopener">custom installation instructions</a></strong> 提供查询功能，如果这个站点的规则变动了，则脚本可能会失效</p><blockquote><p>ps:其实在刚编写此脚本的时候，也曾考虑过采用<code>selenium+headless browser()</code>来处理ajax请求，不过考虑到这个脚本做的就是减法，用headless browser的方案会引入第三方可执行程序，比如<code>chrormedriver.exe</code>，这就太不友好了，所以还是自己分析下ajax请求，提取到<code>[Analyse my phpinfo() output] Button</code>的真正http请求</p></blockquote>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;目前想要调试php，需要安装xdebug，在idea里的php settings上有其安装指导，如下图所示：&lt;br&gt;&lt;img src=&quot;/assets/2019-09-01/1567309969314.png&quot; alt&gt;&lt;/p&gt;
&lt;/blockqu
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>不同操作系统的使用习惯备忘录</title>
    <link href="https://yaoxuanzhi.github.io/news/2019/07/24/usage-habits-of-different-operating-systems/"/>
    <id>https://yaoxuanzhi.github.io/news/2019/07/24/usage-habits-of-different-operating-systems/</id>
    <published>2019-07-24T00:00:00.000Z</published>
    <updated>2021-04-01T19:22:24.285Z</updated>
    
    <content type="html"><![CDATA[<ul><li><p>✔ Office 套件</p><ul><li>Windows：Exe、Zip、7z(官方下载地址：Windows应用商店和各种软件的官网)<blockquote><p>msys2下可以使用<code>pacman -S xxx</code></p></blockquote></li><li>Mac：Dmg、Pkg(官方软件包：App Store)</li><li>Linux(Ubuntu)：<code>apt-get install xxx</code></li><li>Linux(CentOS)：<code>yum install -g xxx</code></li></ul></li><li><p>✔ Office 套件</p><ul><li>Windows：Wps Office</li><li>Mac：Wps Office</li><li>Linux(Ubuntu)：Wps Office</li></ul></li><li><p>✔ App Package</p><ul><li>Windows：Exe、Zip、7z(官方下载地址：Windows应用商店和各种软件的官网)</li><li>Mac：Dmg、Pkg(官方软件包：App Store)，和homebrew</li><li>Linux(Ubuntu)：apt-get install xxx</li><li>Linux(CentOS)：yum install -g xxx</li></ul></li><li><p>✔ 浏览器</p><ul><li>Windows：CentBrowser、Chrome</li><li>Mac：Chrome</li><li>Ubuntu：Chrome<blockquote><p>注意，还需要搭配<code>Vimium</code>插件</p></blockquote></li></ul></li><li><p>❑ Gif录制工具：</p><ul><li>Windows：Licecap</li><li>Mac：Licecap<blockquote><p>不能全屏录制啥的，还有不能将应用程序的顶部菜单栏进行绘制</p></blockquote></li></ul></li><li><p>❑ 截图／贴图工具</p><ul><li>Windows：Snipaste</li><li>Mac：Snipaste</li></ul></li><li><p>✔ 高级编辑器：VSCode、Vim</p></li><li><p>✔ 开发工具：IdeaU(包含了Java、Python、Php、Lua、Erlang、Golang、Rust等多种语言) CLion(C++)</p><blockquote><p>注意，还需要搭配<code>ideaVim</code>插件</p></blockquote></li><li><p>✔ 热键辅助工具：</p><ul><li>Windows：AutoHotKey</li><li>Mac：AppleScript</li></ul></li><li><p>✔ 进入终端操作</p><ul><li>Mac：<strong>【Mac+Shift+ `】</strong></li><li>Windows：<strong>【Win+R】</strong>，然后输入<code>cmd</code></li><li>Linux(Utuntu)：<strong>【Ctrl+Alt+T】</strong></li></ul></li><li><p>✔ 强制关闭某个进程(ps：注意，这个要用Gif来进行演示哦)</p><ul><li>Windows:<strong>【Shift+Ctl+Esc】</strong>打开任务管理器，然后找到对应的进程关闭</li><li>Mac: 鼠标点击左上角的 <code>苹果图标</code>，然后左击打开菜单，找到 <code>强制退出</code> 菜单项进行退出</li></ul></li><li><p>✔ 在终端打开文件夹所在窗口</p><ul><li>Windows：<code>explorer .</code></li><li>Mac：<code>open .</code></li></ul></li><li><p>❑ 安装随身WiFI驱动</p><blockquote><p>包括但不限于360随身WIFI</p><ul><li>Windows：<ul><li><a href="http://wifi.360.cn/easy/pc/" target="_blank" rel="noopener">360随身WIFI官网</a></li></ul></li><li>Ubuntu：<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sh">sudo add-apt-repository ppa:thopiekar/mt7601<br>sudo apt-get update<br>sudo apt-get install mt7601-sta-dkms<br></code></pre></td></tr></table></figure></li></ul></blockquote><ul><li>参考资料<ul><li><a href="https://blog.csdn.net/mdjxy63/article/details/78304708/" target="_blank" rel="noopener">双系统win+ubuntu14.04使用360随身wifi 3代</a></li><li><a href="https://www.cnblogs.com/platero/p/4417458.html" target="_blank" rel="noopener">360/小米/百度 随身wifi Ubuntu下作为无线网卡使用</a></li></ul></li></ul></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;ul&gt;
&lt;li&gt;&lt;p&gt;✔ Office 套件&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Windows：Exe、Zip、7z(官方下载地址：Windows应用商店和各种软件的官网)&lt;blockquote&gt;
&lt;p&gt;msys2下可以使用&lt;code&gt;pacman -S xxx&lt;/code&gt;&lt;/p&gt;

      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>基于AutoHotKey整合自己的常用软件</title>
    <link href="https://yaoxuanzhi.github.io/news/2019/06/08/custom-protable-software-base-on-autohotkey/"/>
    <id>https://yaoxuanzhi.github.io/news/2019/06/08/custom-protable-software-base-on-autohotkey/</id>
    <published>2019-06-08T00:00:00.000Z</published>
    <updated>2021-04-01T19:07:37.114Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p><a href="https://github.com/Lexikos/AutoHotkey_L/releases" target="_blank" rel="noopener">AutoHotkey_L</a></p></blockquote><h3 id="常用的Ahk函数："><a href="#常用的Ahk函数：" class="headerlink" title="常用的Ahk函数："></a>常用的Ahk函数：</h3><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><code class="hljs ahk">;获取文件浏览器中被选中的文件路径<br>/*<br>Library for getting info from a specific explorer window (if window handle not specified, the currently active<br>window will be used).  Requires AHK_L or similar.  Works with the desktop.  Does not currently work with save<br>dialogs and such.<br><br><br>Explorer_GetSelected(hwnd="")   - paths of target window's selected items<br>Explorer_GetAll(hwnd="")        - paths of all items in the target window's folder<br>Explorer_GetPath(hwnd="")       - path of target window's folder<br><br>example:<br>F1::<br>path := Explorer_GetPath()<br>all := Explorer_GetAll()<br>sel := Explorer_GetSelected()<br>MsgBox % path<br>MsgBox % all<br>MsgBox % sel<br>return<br><br>Joshua A. Kinnison<br>2011-04-27, 16:12<br>*/<br>Explorer_GetPath(hwnd="")<br>&#123;<br>    if !(window := Explorer_GetWindow(hwnd))<br>        return ErrorLevel := "ERROR"<br>    if (window="desktop")<br>        return A_Desktop<br>    path := window.LocationURL<br>    path := RegExReplace(path, "ftp://.*@","ftp://")<br>    StringReplace, path, path, file:///<br>    StringReplace, path, path, /, \, All <br>    <br>    ; thanks to polyethene<br>    Loop<br>        If RegExMatch(path, "i)(?&lt;=%)[\da-f]&#123;1,2&#125;", hex)<br>            StringReplace, path, path, `%%hex%, % Chr("0x" . hex), All<br>        Else Break<br>    return path<br>&#125;<br>Explorer_GetAll(hwnd="")<br>&#123;<br>    return Explorer_Get(hwnd)<br>&#125;<br>Explorer_GetSelected(hwnd="")<br>&#123;<br>    return Explorer_Get(hwnd,true)<br>&#125;<br>Explorer_GetWindow(hwnd="")<br>&#123;<br>    ; thanks to jethrow for some pointers here<br>    WinGet, process, processName, % "ahk_id" hwnd := hwnd? hwnd:WinExist("A")<br>    WinGetClass class, ahk_id %hwnd%<br>    <br>    if (process!="explorer.exe")<br>        return<br>    if (class ~= "(Cabinet|Explore)WClass")<br>    &#123;<br>        for window in ComObjCreate("Shell.Application").Windows<br>            if (window.hwnd==hwnd)<br>                return window<br>    &#125;<br>    else if (class ~= "Progman|WorkerW") <br>        return "desktop" ; desktop found<br>&#125;<br>Explorer_Get(hwnd="",selection=false)<br>&#123;<br>    if !(window := Explorer_GetWindow(hwnd))<br>        return ErrorLevel := "ERROR"<br>    if (window="desktop")<br>    &#123;<br>        ControlGet, hwWindow, HWND,, SysListView321, ahk_class Progman<br>        if !hwWindow ; #D mode<br>            ControlGet, hwWindow, HWND,, SysListView321, A<br>        ControlGet, files, List, % ( selection ? "Selected":"") "Col1",,ahk_id %hwWindow%<br>        base := SubStr(A_Desktop,0,1)=="\" ? SubStr(A_Desktop,1,-1) : A_Desktop<br>        Loop, Parse, files, `n, `r<br>        &#123;<br>            path := base "\" A_LoopField<br>            IfExist %path% ; ignore special icons like Computer (at least for now)<br>                ret .= path "`n"<br>        &#125;<br>    &#125;<br>    else<br>    &#123;<br>        if selection<br>            collection := window.document.SelectedItems<br>        else<br>            collection := window.document.Folder.Items<br>        for item in collection<br>            ret .= item.path "`n"<br>    &#125;<br>    return Trim(ret,"`n")<br>&#125;<br></code></pre></td></tr></table></figure><figure class="highlight ahk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs ahk"><span class="hljs-comment">; 设置窗口置顶</span><br><br><span class="hljs-comment">;激活并置顶当前窗体，直至，esc退出。</span><br><span class="hljs-symbol">#t::</span><br><span class="hljs-built_in">WinGetActiveTitle,</span> OutputVar<br><span class="hljs-built_in">WinSet,</span> AlwaysOnTop, On,%OutputVar%<br><span class="hljs-keyword">Return</span><br><br><span class="hljs-symbol">$#+t::</span><br><span class="hljs-built_in">WinSet,</span> AlwaysOnTop, Off,%OutputVar%<br><span class="hljs-keyword">Return</span><br></code></pre></td></tr></table></figure><figure class="highlight ahk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs ahk"><span class="hljs-comment">; 修改窗口透明度</span><br><span class="hljs-comment">;左侧shift+鼠标滚轮调整窗口透明度（设置30-255的透明度，低于30基本上就看不见了，如需要可自行修改）2016.09.20.by M.（2017.01.11__1635 edit again.M）</span><br><span class="hljs-comment">;</span><br><span class="hljs-comment">;使用说明：</span><br><span class="hljs-comment">;   ◆左侧shift+滚轮下滑：减少透明度，一次10</span><br><span class="hljs-comment">;   ◆左侧shift+滚轮上滑：增加透明度，一次20</span><br><span class="hljs-comment">;   ◆左侧shift+中键按下：恢复透明度至255(完全不透明).</span><br><span class="hljs-comment">;</span><br><span class="hljs-symbol">~LShift &amp; WheelUp::</span><br><span class="hljs-comment">; 透明度调整，增加。</span><br><span class="hljs-built_in">WinGet,</span> Transparent, Transparent,<span class="hljs-literal">A</span><br>If (Transparent=<span class="hljs-string">""</span>)<br>    Transparent=<span class="hljs-number">255</span><br>    <span class="hljs-comment">;Transparent_New:=Transparent+10</span><br>    Transparent_New:=Transparent+<span class="hljs-number">20</span>    <span class="hljs-comment">;◆透明度增加速度。</span><br>    If (Transparent_New &gt; <span class="hljs-number">254</span>)<br>                    Transparent_New =<span class="hljs-number">255</span><br><span class="hljs-built_in">    WinSet,</span>Transparent,%Transparent_New%,<span class="hljs-literal">A</span><br> <br><span class="hljs-symbol">    tooltip now: ▲%Transparent_New%`nmae:</span> __%Transparent%  <span class="hljs-comment">;查看当前透明度（操作之后的）。</span><br>    <span class="hljs-comment">;sleep 1500</span><br><span class="hljs-built_in">    SetTimer,</span> RemoveToolTip_transparent_Lwin__2016.<span class="hljs-number">09.20</span>, <span class="hljs-number">1500</span>  <span class="hljs-comment">;设置统一的这个格式，label在最后。</span><br><span class="hljs-keyword">return</span><br></code></pre></td></tr></table></figure><figure class="highlight ahk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs ahk"><span class="hljs-comment">; 用键盘控制鼠标方向移动</span><br><span class="hljs-comment">; 鼠标往下移动</span><br><span class="hljs-symbol">!^down::</span><br><span class="hljs-built_in">mousemove,</span><span class="hljs-number">0</span>,+<span class="hljs-number">8</span>,<span class="hljs-number">0</span>,R<br><span class="hljs-keyword">return</span><br><br><span class="hljs-comment">; 鼠标往上移动</span><br><span class="hljs-symbol">!^up::</span><br><span class="hljs-built_in">mousemove,</span><span class="hljs-number">0</span>,-<span class="hljs-number">8</span>,<span class="hljs-number">0</span>,R<br><span class="hljs-keyword">return</span><br><br><span class="hljs-comment">; 鼠标往左移动</span><br><span class="hljs-symbol">!^left::</span><br><span class="hljs-built_in">mousemove,</span>-<span class="hljs-number">8</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,R<br><span class="hljs-keyword">return</span><br><br><span class="hljs-comment">; 鼠标往右移动</span><br><span class="hljs-symbol">!^right::</span><br><span class="hljs-built_in">mousemove,</span>+<span class="hljs-number">8</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,R<br><span class="hljs-keyword">return</span><br></code></pre></td></tr></table></figure><figure class="highlight ahk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs ahk"><span class="hljs-comment">; 鼠标点击</span><br><br><span class="hljs-comment">; 鼠标左击</span><br><span class="hljs-symbol">!^h::</span><br><span class="hljs-comment">; MouseClick, left,,, 1, 0, D  ; Hold down the left mouse button.</span><br><span class="hljs-built_in">MouseGetPos,</span> x, y<br><span class="hljs-built_in">MouseClick,</span> left, %x%, %y%<br><span class="hljs-keyword">return</span><br><br><span class="hljs-comment">; 鼠标右击</span><br><span class="hljs-symbol">!^l::</span><br><span class="hljs-built_in">MouseGetPos,</span> x, y<br><span class="hljs-comment">; MouseClick, right, %x%, %y%</span><br><span class="hljs-comment">; ButtonRight</span><br><span class="hljs-comment">; MouseClick, right,,, 1, 0, D  ; Hold down the right mouse button.</span><br><span class="hljs-built_in">MouseClick,</span> right, %x%, %y%<br><span class="hljs-keyword">return</span><br></code></pre></td></tr></table></figure><hr><h3 id="文档转换类"><a href="#文档转换类" class="headerlink" title="文档转换类"></a>文档转换类</h3><p><strong>pdf -&gt; html</strong></p><blockquote><p>采用pdf2html来实现将pdf文档转换为html，好处是可以直接利用Chrome的翻译插件来辅助查看pdf文档内容，并且在分屏的时候可以少开一个pdf阅读器，直接新开一个浏览器页签就行了<br><figure class="highlight ahk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs ahk"><span class="hljs-comment">; 为pdf2htmlex添加全局快捷键执行</span><br><span class="hljs-symbol">#p::</span><br>    sel := Explorer_GetSelected()<br>    #支持外部输入页面缩放比例<br><span class="hljs-built_in">    InputBox,</span> zoom, 输入缩放倍数，如<span class="hljs-number">1.3</span><br>    Run <span class="hljs-string">"xxx\pdf2htmlEx\pdf2html.bat"</span> <span class="hljs-string">"%sel%"</span> %zoom%<br><span class="hljs-keyword">return</span><br></code></pre></td></tr></table></figure></p></blockquote><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-comment"># pdf2html.bat</span><br>@<span class="hljs-built_in">echo</span> off<br><span class="hljs-keyword">if</span> [%2] == [] (<span class="hljs-built_in">set</span> zoom_param=1.3) <span class="hljs-keyword">else</span> (<span class="hljs-built_in">set</span> zoom_param=%2)<br><br><span class="hljs-built_in">set</span> source_path=%1<br>call :get_out_dir %source_path%<br><span class="hljs-built_in">cd</span> /d %~dp0<br>pdf2htmlEX --zoom %zoom_param% --dest-dir %out_dir% %source_path%<br>REM  <span class="hljs-built_in">echo</span> pdf2htmlEX --zoom %zoom_param% --dest-dir %out_dir% %source_path%<br><br>pause<br>goto end<br><br>:get_out_dir<br><span class="hljs-built_in">set</span> out_dir=%~dp1<br><span class="hljs-built_in">set</span> out_dir=%out_dir:~,-1% <br>goto end<br><br>:end<br></code></pre></td></tr></table></figure><p><strong>markdown -&gt; word/pdf/html</strong></p><blockquote><p>采用<a href="https://pandoc.org/installing.html" target="_blank" rel="noopener">pandoc</a>来实现，目前官方支持多种markdown的导出格式，如：<code>word</code>、<code>pdf</code>、<code>html</code>等</p></blockquote><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs sh"><span class="hljs-comment"># pandoc.bat</span><br>@<span class="hljs-built_in">echo</span> off<br><br><span class="hljs-built_in">set</span> source_path=%1<br>call :get_out_dir %source_path%<br><span class="hljs-built_in">cd</span> /d %~dp0<br>pandoc -s -o <span class="hljs-string">"%out_dir%.html"</span> %source_path%<br><br>pause<br>goto end<br><br>:get_out_dir<br><span class="hljs-built_in">set</span> out_dir=%~dpn1<br>goto end<br><br>:end<br></code></pre></td></tr></table></figure><h3 id="FAQ"><a href="#FAQ" class="headerlink" title="FAQ"></a>FAQ</h3><ul><li>如何查看ahk的内置变量<ul><li><img src="/assets/2019-10-02/1570005377287.png" alt="查看ahk的内置变量"><blockquote><p>比如，<code>%A_WorkingDir%</code>为ahk.exe的工作目录</p></blockquote></li></ul></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://github.com/Lexikos/AutoHotkey_L/releases&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;AutoHotkey_L&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
      
    
    </summary>
    
    
  </entry>
  
  <entry>
    <title>一个伪Vim党的习惯养成</title>
    <link href="https://yaoxuanzhi.github.io/news/2019/05/10/VIM-mode-of-common-tools/"/>
    <id>https://yaoxuanzhi.github.io/news/2019/05/10/VIM-mode-of-common-tools/</id>
    <published>2019-05-10T00:00:00.000Z</published>
    <updated>2021-04-01T19:19:41.882Z</updated>
    
    <content type="html"><![CDATA[<h3 id="常用工具的Vim化"><a href="#常用工具的Vim化" class="headerlink" title="常用工具的Vim化"></a>常用工具的Vim化</h3><ul><li>浏览器<ul><li>Windows：CentBrowser + Vimium extension(Crx4Chrome)</li><li>Osx：Chrome + Vimium extension(Crx4Chrome)</li></ul></li><li>IDE<ul><li>Idea + IdeaVim</li><li>VS + VsVim</li></ul></li><li>Editor<ul><li>VSCode + Vim</li><li>Sublime修改配置即可<blockquote><p>在<code>Preferences -&gt; Settings</code>里如下设置：</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs json">&#123;<br>    <span class="hljs-attr">"ignored_packages"</span>: []<br>&#125;<br></code></pre></td></tr></table></figure></blockquote></li></ul></li></ul><hr><h3 id="常用的Vim命令："><a href="#常用的Vim命令：" class="headerlink" title="常用的Vim命令："></a>常用的Vim命令：</h3><ul><li>切换到常态：<code>Esc</code>或<code>Ctrl+O</code></li><li>显示行号：<code>:set nu</code></li><li>取消行号：<code>:set nonu</code></li><li>往下查找：<code>/word</code> 配合n或N来索引下一个匹配项</li><li>往上查找：<code>?word</code> 配合n或N来索引下一个匹配项</li><li>创建文件：<code>:new filename</code> - 打开文件：<code>:vim filepath</code></li><li>重新加载文件<code>:e!</code></li><li>保存文件并退出：<code>:wq!</code></li><li>不保存文件直接退出：<code>:q!</code></li><li>打开函数列表：<code>tb</code></li><li>切换窗口：<code>Ctrl+W</code> [j k l n]</li><li>在文件夹文件夹下查找文库本：<code>:Ag word</code></li><li>不采用插件直接自动补全：<code>Ctr+N</code> <code>Ctrl+P</code></li><li>快速输入文件名：在插入模式下，按下<code>Ctrl+X</code> <code>Ctrl+F</code></li><li>设置搜索时忽略字母的大小写差异：<code>:set ic</code></li><li>设置搜索使用字母的大小写匹配；<code>:set noic</code></li><li>搜索当前文件夹的文件：<code>;p</code>(常态下)</li><li>回到刚才编辑的文件：<code>:e#</code>(常态下)</li><li>进入块模式编辑：<code>Ctrl+v</code><ul><li>在块的前面插入字符：<code>Shift+i</code></li><li>在块的后面插入字符：<code>Shift+a</code></li></ul></li><li>假设安装了 <strong>NERD Commenter</strong> 插件，那么可以使用下列方式来进行代码注释：<ul><li>设置光标所在行的注释：<code>;cc</code></li><li>取消光标所在行的注释：<code>;cu</code></li><li>切换光标所在行的注释/非注释状态；<code>;c&lt;space&gt;</code></li></ul></li><li>切换tab<ul><li>关闭当前的tab：<code>:tabc</code></li><li>关闭所有其他的tab：<code>:tabo</code></li><li>查看所有打开的tab：<code>:tabs</code></li><li>前一个：<code>:tabp</code></li><li>后一个：<code>:tabn</code></li></ul></li><li>设置Vim的快捷键，直接在_VIMRC上插入这些语句即可：<code>map &lt;F10&gt; &lt;Esc&gt;:!explorer %:p:h&lt;CR&gt;</code></li><li>在资源管理器上显示(仅Windows)：<code>map &lt;F10&gt; &lt;Esc&gt;:!explorer /select, %:p&lt;CR&gt;</code></li><li>代码折叠<ul><li>打开关闭折叠：<code>zi</code></li><li>查看此行：<code>zv</code></li><li>关闭折叠：<code>zm</code></li><li>关闭所有：<code>zM</code></li><li>打开：<code>zr</code></li><li>打开所有：<code>zR</code></li><li>折叠当前行：<code>zc</code></li><li>打开当前折叠：<code>zo</code></li><li>删除折叠：<code>zd</code></li><li>删除所有折叠：<code>zD</code></li></ul></li><li>命令集<ul><li>替换文本所有字符串：<code>:%s/oldstr/newstr/g</code></li><li>搜索文件夹的字符串：<code>:lv /正则表达式/gj *</code>，注意需要配合<code>:lw</code>来查看搜索结果</li></ul></li><li>分割窗口调整<ul><li>纵向调整<ul><li>纵向扩大(行数增加)：<code>:ctrl+w +</code></li><li>纵向缩小(行数减少)：<code>:ctrl+w -</code> </li><li>显示行数调整为num行：<code>:res(ize) num</code></li><li>把当前窗口高度增加num行：<code>:res(ize)+num</code> </li><li>把当前窗口高度减少num行：<code>:res(ize)-num</code> </li></ul></li><li>横向调整<ul><li>指定当前窗口为num列：<code>:vertical res(ize) num</code></li><li>把当前窗口增加num列：<code>:vertical res(ize)+num</code> </li><li>把当前窗口减少num列：<code>:vertical res(ize)-num</code> </li></ul></li><li>文件浏览<ul><li>在侧边栏中打开目录树：<code>:NERDTREE</code></li><li>显示当前文件所在侧边栏：<code>:NERDTreeFind</code></li><li>打开当前文件所在目录树(窗口不分割)：<code>:Ex(plore)</code></li><li>打开当前文件所在目录树(水平分割窗口)：<code>:Se(xplore)</code></li><li>打开当前文件所在目录树(垂直分割窗口)：<code>:Ve(xplore)</code></li></ul></li></ul></li></ul><h3 id="Chrome浏览器下的Vim模式"><a href="#Chrome浏览器下的Vim模式" class="headerlink" title="Chrome浏览器下的Vim模式"></a>Chrome浏览器下的Vim模式</h3><blockquote><p>在Chrome浏览器的应用商店里安装<strong>Vimium</strong>插件即可，不过，由于众所周知的原因，如果不自建梯子是访问不了的，此时可以到<a href="https://www.crx4chrome.com/crx" target="_blank" rel="noopener">Crx4Chrome</a>上下载并安装此插件。以下罗列一些常用的快捷键操作：</p></blockquote><ul><li><p>标签页间操作</p><ul><li>跳到左侧标签页(Vimium)：<code>J(Shift+h)</code></li><li>跳到右侧标签页(Vimium)：<code>K(Shift+j)</code></li><li>跳到最左端标签页(Vimium)：<code>g0</code></li><li>跳到最右端标签页(Vimium)：<code>g$</code></li><li>查找已打开的标签页：<code>T(Shift+t)</code></li><li>关闭标签页(Vimium)：<code>x</code></li><li>跳到左侧标签页(内置)：<code>Ctrl+Shift+Tab</code></li><li>跳到右侧标签页(内置)：<code>Ctrl+Tab</code></li><li>关闭标签页(内置)：<code>Ctrl+w</code></li></ul></li><li><p>页内移动</p><ul><li>往下移动：<code>j</code></li><li>往上移动：<code>k</code></li><li>往左移动：<code>h</code></li><li>往右移动：<code>h</code></li><li>移动到顶端：<code>gg</code></li><li>移动到底端：<code>G(Shift+g)</code></li></ul></li><li><p>页内操作</p><ul><li>选择文本：<code>v</code></li><li>输入文本：<code>i</code></li><li>复制被选中文本：<code>y</code></li><li>找到当前页面的首个文本框输入：<code>gi</code></li><li>复制当前标签页链接：<code>yy</code></li><li>在本标签页内打开剪贴板上的链接：<code>p</code></li><li>新开标签页来打开剪贴板上的链接：<code>P(Shift+p)</code></li><li>打开可挑选的跳转面板：<code>f</code></li><li>在本标签页内往前跳转：<code>H(Shift+h)</code></li><li>在本标签页内往后跳转：<code>L(Shift+l)</code></li><li>在本标签页内刷新(Vimium)：<code>r</code></li><li>在本标签页内刷新(内置)：<code>F5</code></li></ul></li><li><p>页内查找</p><ul><li>查找文本(Vimium)：<code>/</code></li><li>往下查找匹配项(Vimium)：<code>n</code></li><li>往上查找匹配项(Vimium)：<code>N(Shift+n)</code></li><li>查找文本(内置)：<code>Ctrl+F</code></li></ul></li><li><p>书签/历史</p><ul><li>在本标签页来打开书签/历史的链接：<code>o</code></li><li>新开标签页来打开书签/历史的链接：<code>O(Shift+o)</code></li><li>在本标签页来打开书签的链接：<code>b</code></li><li>新开标签页来打开书签的链接：<code>B(Shift+b)</code></li></ul></li></ul><hr><h3 id="键盘控制鼠标"><a href="#键盘控制鼠标" class="headerlink" title="键盘控制鼠标"></a>键盘控制鼠标</h3><blockquote><p>目前常用的工具安装了Vim插件后，并不能控制应用里的所有东西，比如在Chrome浏览器上查看视频时，Vimium插件是无法控制视频的播放/暂停的，因此有必要提供一个键盘控制鼠标的功能，让双手停留在键盘上</p><ul><li>键盘控制鼠标移动、点击<ul><li>Windows：采用AutoHotKey可以实现，ahk如下： <figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><code class="hljs sh">; 鼠标往下移动<br>!^down::<br>mousemove,0,+8,0,R<br><span class="hljs-built_in">return</span><br><br>; 鼠标往上移动<br>!^up::<br>mousemove,0,-8,0,R<br><span class="hljs-built_in">return</span><br><br>; 鼠标往左移动<br>!^left::<br>mousemove,-8,0,0,R<br><span class="hljs-built_in">return</span><br><br>; 鼠标往右移动<br>!^right::<br>mousemove,+8,0,0,R<br><span class="hljs-built_in">return</span><br><br>; --------------鼠标点击<br><br>; 鼠标左击<br>!^h::<br>; MouseClick, left,,, 1, 0, D  ; Hold down the left mouse button.<br>MouseGetPos, x, y<br>MouseClick, left, %x%, %y%<br><span class="hljs-built_in">return</span><br><br>; 鼠标右击<br>!^l::<br>MouseGetPos, x, y<br>; MouseClick, right, %x%, %y%<br>; ButtonRight<br>; MouseClick, right,,, 1, 0, D  ; Hold down the right mouse button.<br>MouseClick, right, %x%, %y%<br><span class="hljs-built_in">return</span><br></code></pre></td></tr></table></figure></li></ul></li></ul></blockquote><ul><li>Osx：采用ApplyScript+MouseTools可以实现： <ul><li><a href="http://www.hamsoftengineering.com/codeSharing/MouseTools/MouseTools.html" target="_blank" rel="noopener">MouseTools</a><figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs applescript"><span class="hljs-comment">-- 后续再补充了</span><br></code></pre></td></tr></table></figure></li></ul></li></ul><hr><h3 id="FAQ"><a href="#FAQ" class="headerlink" title="FAQ"></a>FAQ</h3><h5 id="在shell-vim上粘贴文本出现缩进错乱的问题"><a href="#在shell-vim上粘贴文本出现缩进错乱的问题" class="headerlink" title="在shell vim上粘贴文本出现缩进错乱的问题"></a>在shell vim上粘贴文本出现缩进错乱的问题</h5><blockquote><p>这个需要设置终端Vim的粘贴模式为粘贴保留格式：<code>:set paste</code></p></blockquote><h5 id="如何进行Vim-插件开发"><a href="#如何进行Vim-插件开发" class="headerlink" title="如何进行Vim 插件开发"></a>如何进行Vim 插件开发</h5><blockquote><p>学习<a href="https://www.w3cschool.cn/vim/gsenvozt.html" target="_blank" rel="noopener">Vimscript 文档</a></p></blockquote><h5 id="Windows下如何编译ycm-for-vim"><a href="#Windows下如何编译ycm-for-vim" class="headerlink" title="Windows下如何编译ycm for vim"></a>Windows下如何编译ycm for vim</h5><p>需要安装llvm和python以及vs，以下是ycm的编译脚本<br><figure class="highlight bat"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs bat">@<span class="hljs-built_in">echo</span> off<br><span class="hljs-comment">REM  配置ycm的编译环境</span><br><span class="hljs-built_in">set</span> llvm_root="D:/ProgramFiles/LLVM"<br><span class="hljs-built_in">set</span> libclang_path="D:/ProgramFiles/LLVM/lib/libclang.lib"<br><span class="hljs-comment"><br>REM  使用py2</span><br><span class="hljs-built_in">set</span> PYTHON_LIBRARY="D:/ProgramFiles/Python27/libs/python27.lib"<br><span class="hljs-built_in">set</span> PYTHON_INCLUDE_DIR="D:/ProgramFiles/Python27/include"<br><span class="hljs-comment"><br>REM  使用py3</span><br><span class="hljs-comment">REM  set USE_PYTHON2=OFF</span><br><span class="hljs-comment">REM  set PYTHON_LIBRARY="C:/Python35/libs/Python35.lib"</span><br><span class="hljs-comment">REM  set PYTHON_INCLUDE_DIR="C:/Python35/include"</span><br><span class="hljs-comment"><br>REM  配置ycm项目导出路径</span><br><span class="hljs-built_in">set</span> ycm_path="D:/GreenFolder/GvimWithYcm/vimfiles/bundle/YouCompleteMe/third_party/ycmd/cpp"<br><br><span class="hljs-built_in">mkdir</span> build &amp; <span class="hljs-built_in">cd</span> build<br>cmake -G "Visual Studio <span class="hljs-number">15</span> <span class="hljs-number">2017</span> Win64" -DEXTERNAL_LIBCLANG_PATH=<span class="hljs-variable">%libclang_path%</span> -DPATH_TO_LLVM_ROOT=<span class="hljs-variable">%llvm_root%</span>; . <span class="hljs-variable">%ycm_path%</span><br><span class="hljs-built_in">cd</span> ..<br><span class="hljs-built_in">pause</span><br></code></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;常用工具的Vim化&quot;&gt;&lt;a href=&quot;#常用工具的Vim化&quot; class=&quot;headerlink&quot; title=&quot;常用工具的Vim化&quot;&gt;&lt;/a&gt;常用工具的Vim化&lt;/h3&gt;&lt;ul&gt;
&lt;li&gt;浏览器&lt;ul&gt;
&lt;li&gt;Windows：CentBrowser + Vi
      
    
    </summary>
    
    
      <category term="ahk" scheme="https://yaoxuanzhi.github.io/tags/ahk/"/>
    
      <category term="autohotkey" scheme="https://yaoxuanzhi.github.io/tags/autohotkey/"/>
    
      <category term="vim" scheme="https://yaoxuanzhi.github.io/tags/vim/"/>
    
  </entry>
  
  <entry>
    <title>谈谈Win10系统的折腾</title>
    <link href="https://yaoxuanzhi.github.io/news/2019/05/07/about-deploy-win10-environment/"/>
    <id>https://yaoxuanzhi.github.io/news/2019/05/07/about-deploy-win10-environment/</id>
    <published>2019-05-07T00:00:00.000Z</published>
    <updated>2021-04-01T19:22:41.365Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>最近入手了台Surface Pro6，然后又重新捣弄起各种常用的开发环境了，C++、Python、Php的开发环境搞起等，不过很快就遇到了各种状况，这里特此记录下来，以前很多笔记都丢到有道云笔记上了，这里重新拾遗吧。</p></blockquote><h2 id="触摸板无法正常拖动文件和截图了"><a href="#触摸板无法正常拖动文件和截图了" class="headerlink" title="触摸板无法正常拖动文件和截图了"></a>触摸板无法正常拖动文件和截图了</h2><p>其实这个在Win 10里面是可以设置的，通过<strong>开始菜单</strong>  –&gt; <strong>设置</strong> –&gt; <strong>设备</strong> –&gt; <strong>触摸板</strong>，然后勾选 <strong>☐点击两次之后再拖动及可多选</strong> 即可，如下图所示：</p><ul><li><img src="/assets/2019-05-08/1557245985050.png" alt></li></ul><blockquote><p>另外，Win10内置的触摸板手势也可以在这个设置界面上看到哦O(∩_∩)O</p></blockquote><h2 id="无法在第三方应用上打开浏览器"><a href="#无法在第三方应用上打开浏览器" class="headerlink" title="无法在第三方应用上打开浏览器"></a>无法在第三方应用上打开浏览器</h2><blockquote><p>比如QQ、VSCode里面的url，点击之后无反应</p></blockquote><p>这是因为url的默认打开程序被设置成无效程序了，可能因为之前的程序被卸载导致的，重新指定一个即可</p><h2 id="一些应用无法正常添加到右键菜单，比如TortoiseGit、TortoiseSvn、Cmder"><a href="#一些应用无法正常添加到右键菜单，比如TortoiseGit、TortoiseSvn、Cmder" class="headerlink" title="一些应用无法正常添加到右键菜单，比如TortoiseGit、TortoiseSvn、Cmder"></a>一些应用无法正常添加到右键菜单，比如TortoiseGit、TortoiseSvn、Cmder</h2><p>一般是以下两种情况：</p><ul><li>没有以管理员身份运行，比如Cmder</li><li>没有安装与Windows 系统对应的32bit/64bit版本应用，举个例子，TortoiseGit 32bit是无法在Win10 64bit上添加上右键菜单的</li></ul><blockquote><p><del>如果是电脑小白的话，其实还有一种是被安全管家类软件拦截导致的，这里就不赘述了==!</del></p></blockquote><hr><h3 id="更改TortoiseSVN的文件比较工具"><a href="#更改TortoiseSVN的文件比较工具" class="headerlink" title="更改TortoiseSVN的文件比较工具"></a>更改TortoiseSVN的文件比较工具</h3><p>由于未知名原因，<strong>TortoiseIDiff</strong>工具无法在<code>SVN Commit对话框</code>上直接打开，因此将文本比较工具由 <strong>TortoiseIDiff</strong>更改为<code>Beyond Compare 3</code>，</p><blockquote><p>打开TortoiseSVN的Setting，选择左边的 <strong>Diff Viewer</strong>，然后设置Diff configure，如：<code>&quot;...\BComp.exe&quot; %base %mine /title1=%bname /title2=%yname /leftreadonly</code>，配置如下所示：</p><ul><li><img src="/assets/2019-05-12/1557671439648.png" alt></li></ul></blockquote><p>参考资料：</p><ul><li><a href="https://www.cnblogs.com/linlf03/p/6923519.html" target="_blank" rel="noopener">TortoiseSVN比较工具设置为BeyondCompare 4</a></li></ul><hr><h1 id="吐槽"><a href="#吐槽" class="headerlink" title="吐槽"></a>吐槽</h1><p>这个价位下的surface pro已经没啥性价比了，但是作为一枚伪软粉以及颜控党，终究充值了一波信仰（ps:真香定律无处不在啊），另外它的便捷性的确比普通笔记本好多了，作为一个后端狗，算是为自己的背包减肥了。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;blockquote&gt;
&lt;p&gt;最近入手了台Surface Pro6，然后又重新捣弄起各种常用的开发环境了，C++、Python、Php的开发环境搞起等，不过很快就遇到了各种状况，这里特此记录下来，以前很多笔记都丢到有道云笔记上了，这里重新拾遗吧。&lt;/p&gt;
&lt;/blockquot
      
    
    </summary>
    
    
      <category term="win10" scheme="https://yaoxuanzhi.github.io/tags/win10/"/>
    
      <category term="surface pro" scheme="https://yaoxuanzhi.github.io/tags/surface-pro/"/>
    
      <category term="吐槽" scheme="https://yaoxuanzhi.github.io/tags/%E5%90%90%E6%A7%BD/"/>
    
  </entry>
  
</feed>
