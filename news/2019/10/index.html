<!DOCTYPE html>
<html lang="zh-cn">
<head prefix="og: http://ogp.me/ns#">
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
  <title>News | YXZ's Blog</title>
  <meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- Canonical links -->
  <link rel="canonical" href="https://yaoxuanzhi.github.io/news/2019/10/index.html">
  <!-- Alternative links -->
  
  <!-- Icon -->
  <link rel="apple-touch-icon" sizes="57x57" href="/icon/apple-touch-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/icon/apple-touch-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/icon/apple-touch-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/icon/apple-touch-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/icon/apple-touch-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/icon/apple-touch-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/icon/apple-touch-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/icon/apple-touch-icon-152x152.png">
  <link rel="icon" type="image/png" href="/icon/favicon-196x196.png" sizes="196x196">
  <link rel="icon" type="image/png" href="/icon/favicon-160x160.png" sizes="160x160">
  <link rel="icon" type="image/png" href="/icon/favicon-96x96.png" sizes="96x96">
  <link rel="icon" type="image/png" href="/icon/favicon-16x16.png" sizes="16x16">
  <link rel="icon" type="image/png" href="/icon/favicon-32x32.png" sizes="32x32">
  <meta name="msapplication-TileColor" content="#2f83cd">
  <meta name="msapplication-TileImage" content="/icon/mstile-144x144.png">
  <meta name="generator" content="Hexo 3.8.0">
  <!-- CSS -->
  <!-- build:css build/css/navy.css -->
  <link rel="stylesheet" href="/css/navy.css">
  <!-- endbuild -->
  <link href="https://fonts.googleapis.com/css?family=Lato:300,400,700" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/1/docsearch.min.css">
  <!-- RSS -->
  <link rel="alternate" href="/atom.xml" title="YXZ's Blog">
  <!-- Open Graph -->
  <meta property="og:type" content="website">
<meta property="og:title" content="News">
<meta property="og:url" content="https://yaoxuanzhi.github.io/news/2019/10/index.html">
<meta property="og:site_name" content="YXZ&#39;s Blog">
<meta property="og:locale" content="zh-cn">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="News">
  <!-- Google Analytics --><!-- hexo-inject:begin --><!-- hexo-inject:end -->
  
</head>

<body>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div id="container">
    <header id="header" class="wrapper">
  <div id="header-inner" class="inner">
    <h1 id="logo-wrap">
      <a href="/" id="logo">YXZ's Blog</a>
    </h1>
    <nav id="main-nav">
      <a href="/news/" class="main-nav-link">随笔</a><a href="/about/" class="main-nav-link">关于我</a>
    </nav>
    <div id="lang-select-wrap">
      <label id="lang-select-label"><i class="fa fa-globe"></i><span>简体中文</span></label>
      <select id="lang-select" data-canonical="">
        
          <option value="zh-cn" selected>简体中文</option>
        
      </select>
    </div>
    <a id="mobile-nav-toggle">
      <span class="mobile-nav-toggle-bar"></span>
      <span class="mobile-nav-toggle-bar"></span>
      <span class="mobile-nav-toggle-bar"></span>
    </a>
  </div>
</header>

    
<div id="content-wrap">
  <div class="wrapper">
    <div class="inner">
      
        
          <article class="article post" itemscope itemtype="http://schema.org/Article">
  <header class="article-header">
    
      <h1>
        <a href="/news/2019/10/05/how-to-write-idea-plugin/" class="article-title" itemprop="name">如何编写Idea 插件</a>
      </h1>
    
    <a href="/news/2019/10/05/how-to-write-idea-plugin/" class="article-date"><time datetime="2019-10-05T00:00:00.000Z">2019-10-05</time></a>
  </header>
  <div class="article-content" itemprop="articleBody">
    <h2 id="前言" class="article-heading"><a href="#前言" class="headerlink" title="前言"></a>前言<a class="article-anchor" href="#前言" aria-hidden="true"></a></h2><p>这篇文章是很久以前写下的，但是忘记发布了。它参考了一个钦佩的前辈<a href="https://me.csdn.net/leixiaohua1020" target="_blank" rel="noopener">雷霄骅</a>的博客风格所写的，纪念这位前辈留下的痕迹，以前捣弄ffmpeg的时候，跟着他的 <strong>《最简单的基于FFmpeg的xxx》</strong>系列博客学习，受益匪浅，也呼吁同行注意作息，多点做工具，提高效率，劳逸结合，毕竟我们打的是持久战</p>
<h2 id="开发思路" class="article-heading"><a href="#开发思路" class="headerlink" title="开发思路"></a>开发思路<a class="article-anchor" href="#开发思路" aria-hidden="true"></a></h2><p>插件开发灵魂三问：</p>
<ul>
<li>为什么要开发插件？<blockquote>
<p>分析需求，这个可能是别人给你的，比如你的上司，也可以是自我驱动的，为提高自我生产力而开发，当然，如果是为了挣钱而开发那再好不过了</p>
</blockquote>
</li>
<li>怎样开发插件？<blockquote>
<p>需要了解官方是否提供第三方sdk供开发者开发，要找到官方sdk，否则无从入手，说起这个就要吐槽下华为手表了，本来是打算自己定制下Watch GT，结果发现华为根本就不提供第三方开发接口，怨念了许久<code>=.=</code></p>
</blockquote>
</li>
<li><p>怎样发布插件？</p>
</li>
<li><p>官方提供的SDK开发文档地址在哪？</p>
<ul>
<li>从中延伸出来的问题是：需要get到哪些技能才能自己撸一个呢</li>
<li>哪里有官方Demo地址</li>
<li>怎么调试</li>
</ul>
</li>
<li>怎么对外发布<ul>
<li>注册一个Intellij account，然后提高打包好的jar包，先做个预警，这里面是先经过机审的，审查你的配置项缺失、API是否过期、并且发现你的插件有报错之后，每隔几天就会发一封邮件给你，让你尽快处理的</li>
</ul>
</li>
</ul>
<h3 id="搭建Idea插件开发环境" class="article-heading"><a href="#搭建Idea插件开发环境" class="headerlink" title="搭建Idea插件开发环境"></a>搭建Idea插件开发环境<a class="article-anchor" href="#搭建Idea插件开发环境" aria-hidden="true"></a></h3><ul>
<li>✔ 吐槽下自己，为了开发插件而学习Java，以前对Java的确是抱有偏见的，我是用了Idea后才改观，不过CLion要想代替VS还要很久很久，目前用它来开发还是各种不适，不过用来写Python、Php、Lua、Java啥的，的确比VSCode舒服多了，最爽的是它有免安装包、不像隔壁的VS，一定要捆绑安装</li>
<li>✔ 需要的开发环境，比如安装Java SDK和idea插件辅助啥的，另外，需要特别标注当前用到的idea、Java版本哦，否则会有问题</li>
<li>✔ 让Idea关联这个Java SDK</li>
</ul>
<h3 id="最简单的Idea插件" class="article-heading"><a href="#最简单的Idea插件" class="headerlink" title="最简单的Idea插件"></a>最简单的Idea插件<a class="article-anchor" href="#最简单的Idea插件" aria-hidden="true"></a></h3><ul>
<li>✔ 构建一个最简单的Idea插件，直接根据官方文档提供的即可，比如那个SayHello之类的，个人觉得没必要再说一遍，给链接，然后提供个源码压缩包即可</li>
<li>✔ 加日志输出和定位输出路径</li>
<li>✔ 说明下两种构建idea插件的方案，比方说，idea原生项目和gradle构建的项目，个人觉得第二个是更加自动化的，不过这个在开发功能的人来说，倒是细枝末叶了<blockquote>
<p>毕竟怎么添加特性是开发人员的事，而怎么构建团队资源，这是整个团队的事情</p>
</blockquote>
</li>
</ul>
<h3 id="自定义设置界面和行为" class="article-heading"><a href="#自定义设置界面和行为" class="headerlink" title="自定义设置界面和行为"></a>自定义设置界面和行为<a class="article-anchor" href="#自定义设置界面和行为" aria-hidden="true"></a></h3><ul>
<li>✔ 提供这个博客内容的相关链接出来，比方说，官方sdk的链接地址</li>
<li>✔ 手动创建生成界面代码，从ideaVim插件的UI代码说起</li>
<li>✔ 采用Java GUI Form来自动生成，这个要从其它来说起</li>
<li>✔ 注意，Complement的一些行为是有改变的哦，另外，各种重载函数对插件基础界面的映射感觉是不错的思路哦</li>
</ul>
<h3 id="拓展" class="article-heading"><a href="#拓展" class="headerlink" title="拓展"></a>拓展<a class="article-anchor" href="#拓展" aria-hidden="true"></a></h3><ul>
<li>✘ 对比AE、VSCode、SublimeText、Idea的插件模型，用C++来模拟实现这么一套插件模型机制原型，点评下优劣吧</li>
<li>✘ 注意，采用LibGUISDK来实现哦，目的是非常明确的，就个人而言，我是认可<a href="https://github.com/iUIShop/LibUIDK" target="_blank" rel="noopener">Github-LibUIDK</a>在ReadMe.md上关于完全采用MFC的说法的，模拟毕竟是模拟，需要有个参考系，既然这个参考系也是可以美化的，那DirectUI的作用就不是那么大了，对于绝大部分程序而言，都是如此。不过到目前为止，我依然觉得，Editor Control、Browser Control和IM Control是最难做的控件，哦，差点忘记Office那套东西了和各种游戏客户端了，这又是个长话题，这里就不胡扯了</li>
</ul>
<h3 id="插件开发学习路线" class="article-heading"><a href="#插件开发学习路线" class="headerlink" title="插件开发学习路线"></a>插件开发学习路线<a class="article-anchor" href="#插件开发学习路线" aria-hidden="true"></a></h3><ul>
<li><a href="https://www.w3cschool.cn/java/" target="_blank" rel="noopener">W3Cschool - Java教程</a></li>
<li><a href="https://www.w3cschool.cn/swing/" target="_blank" rel="noopener">W3Cschool - Java Swing教程</a></li>
<li><a href="http://www.jetbrains.org/intellij/sdk/docs/welcome.html" target="_blank" rel="noopener">IntelliJ Platform SDK</a></li>
<li><a href="http://c.biancheng.net/view/1206.html" target="_blank" rel="noopener">Java Swing中文教程</a></li>
<li><a href="https://blog.csdn.net/ExcellentYuXiao/article/details/80273109" target="_blank" rel="noopener">IntelliJ IDEA插件开发指南</a></li>
<li><a href="https://www.cnblogs.com/xiaomaohai/p/6157703.html" target="_blank" rel="noopener">Intellij IDEA插件开发入门</a></li>
</ul>
<hr>
<h2 id="吐槽" class="article-heading"><a href="#吐槽" class="headerlink" title="吐槽"></a>吐槽<a class="article-anchor" href="#吐槽" aria-hidden="true"></a></h2><p>写在最后的，虽然互联网是有记忆的，但是所有链接和用到的api都可能会变动、失了时效，并且技术也是日新月异，本文只能起到抛砖引玉的作用。作为官方教程的二贩子，希望后来者在入门之后，直接啃官方最新文档吧</p>
<p>至于如何进阶插件开发，多看别人那些好插件是如何开发的，比如官方开源的IdeaVim插件、IdeaErlang插件等等，学习一两个后，就能提炼出很多API的用法了，它们就是最好的老师。</p>
<blockquote>
<p>可以采用jdc等反汇编的软件来获得Jar包源码，剩下的就是如何还原工程了，啃官方文档是最及时的，网上所有现有插件都可能会过时，如果官方文档都说，那就要与sdk代码为准了，因为本人在开发Application Complement的时候遇到过，这个接口已经被标为弃用的情况，但是官方文档没有及时更新，还写在Demo上，另外，就是老旧的教程可能还会有个Compoment的菜单项，而本人在Idea Community 2018.3.3里就没有找到过，只有这个Module了，其实类似坑点蛮多的</p>
</blockquote>
<p><del>关于未来，目前正在用Erlang来吃饭，还会用到Erlang这个插件，因为打算着手为这个插件加些辅助特性，做我们项目内部的定制化啥的</del></p>
<ul>
<li><a href="https://www.cnblogs.com/mumuxinfei/p/8474251.html" target="_blank" rel="noopener">Java调用Lua脚本(热载实现)</a></li>
<li><a href="https://www.cnblogs.com/nuccch/p/8435693.html" target="_blank" rel="noopener">在Java中调用Python</a></li>
</ul>
<p><del>目前正在调研下，是采用Python作为我们的插件的脚本还是采用Lua作为脚本，对于专业化工具，其实用户的忍受度是挺高的，最好是两者都提供吧，如果是面向其它第三方普通用户的话，那么最好用Lua，因为小巧就是王道</del></p>

  </div>
  
</article>

        
      
    </div>
  </div>
</div>
    <footer id="footer" class="wrapper">
  <div class="inner">
    <div id="footer-copyright">
      &copy; 2021 <a href="https://github.com/hexojs/hexo/graphs/contributors" target="_blank">Hexo</a><br>
      Documentation licensed under <a href="http://creativecommons.org/licenses/by/4.0/" target="_blank">CC BY 4.0</a>.
    </div>
    <div id="footer-links">
      <a href="https://twitter.com/" class="footer-link" target="_blank"><i class="fa fa-twitter"></i></a>
      <a href="https://github.com/" class="footer-link" target="_blank"><i class="fa fa-github-alt"></i></a>
    </div>
  </div>
</footer>

  </div>
  <div id="mobile-nav-dimmer"></div>
  <nav id="mobile-nav">
  <div id="mobile-nav-inner">
    <ul id="mobile-nav-list">
      <a href="/news/" class="mobile-nav-link">随笔</a><a href="/about/" class="mobile-nav-link">关于我</a>
      <li class="mobile-nav-item">
        <a href="https://github.com/" class="mobile-nav-link" rel="external" target="_blank">GitHub</a>
      </li>
    </ul>
    
  </div>
  <div id="mobile-lang-select-wrap">
    <span id="mobile-lang-select-label"><i class="fa fa-globe"></i><span>简体中文</span></span>
    <select id="mobile-lang-select" data-canonical="">
      
        <option value="zh-cn" selected>简体中文</option>
      
    </select>
  </div>
</nav>
  <!-- Scripts -->
<!-- build:js build/js/main.js -->
<script src="/js/lang_select.js"></script>
<script src="/js/toc.js"></script>
<script src="/js/mobile_nav.js"></script>
<!-- endbuild -->

<!-- Algolia --><!-- hexo-inject:begin --><!-- hexo-inject:end -->


</body>
</html>